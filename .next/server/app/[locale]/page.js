(()=>{var e={};e.id=61,e.ids=[61],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},596:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=t(482),a=t(9108),l=t(2563),n=t.n(l),i=t(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["[locale]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7827)),"C:\\Users\\Kujti\\Desktop\\Trading Tools\\MVP PRICE\\frontend\\app\\[locale]\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3471)),"C:\\Users\\Kujti\\Desktop\\Trading Tools\\MVP PRICE\\frontend\\app\\[locale]\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"C:\\Users\\Kujti\\Desktop\\Trading Tools\\MVP PRICE\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Kujti\\Desktop\\Trading Tools\\MVP PRICE\\frontend\\app\\[locale]\\page.tsx"],m="/[locale]/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[locale]/page",pathname:"/[locale]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8439:(e,s,t)=>{Promise.resolve().then(t.bind(t,5699))},5699:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(2295),a=t(3729),l=t(2254),n=t(2186),i=t(2542),o=t(531),d=t(8117),c=t(5269),m=t(1917),x=t(7075);let h=(0,x.Z)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);var u=t(6262);let p=(0,x.Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),g=(0,x.Z)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var b=t(6064);function f(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function j(){let{currentShop:e,isDemoMode:s,shops:t,loading:c,switchToShop:m}=(0,o.L)(),x=(0,l.useSearchParams)(),[h,u]=(0,a.useState)(null),[p,g]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=x?.get("shop_id"),s=x?.get("mode"),t=x?.get("installed");if(e&&"live"===s&&"true"===t){console.log("[Home] Auto-switching to installed shop from URL:",e),m(parseInt(e),!1);return}},[x,m,e]),(0,a.useEffect)(()=>{e&&!c&&(g(!0),(0,d.z2)().then(e=>{console.log("Dashboard stats:",e),u(e)}).catch(e=>{console.error("Error loading stats:",e),u(null)}).finally(()=>g(!1)))},[e?.id,s,c]),(0,a.useEffect)(()=>{let e=e=>{console.log("[Home] Shop switched event received:",e.detail),setTimeout(()=>{g(!0),(0,d.z2)().then(e=>{console.log("[Home] Dashboard stats reloaded after shop switch:",e),u(e)}).catch(e=>{console.error("[Home] Error reloading stats after shop switch:",e),u(null)}).finally(()=>g(!1))},300)};return window.addEventListener("shop-switched",e),()=>window.removeEventListener("shop-switched",e)},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,r.jsxs)("aside",{className:"w-80 bg-gradient-to-b from-white via-gray-50 to-white border-r border-gray-200 p-6 overflow-y-auto shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-8 pb-6 border-b border-gray-200",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform",children:r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCA1"})}),r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"PriceIQ"})]}),r.jsx("div",{className:"mb-6",children:r.jsx(i.D,{})}),(0,r.jsxs)("nav",{className:"space-y-2",children:[r.jsx(n.rU,{href:"/",className:"block px-4 py-2 text-gray-700 rounded-lg bg-gray-100 transition-colors",children:"Dashboard"}),r.jsx(n.rU,{href:"/products",className:"block px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Produkte"}),r.jsx(n.rU,{href:"/recommendations",className:"block px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Empfehlungen"})]})]}),r.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:p||c?r.jsx("div",{className:"text-center py-12 text-gray-600",children:"Lade Dashboard..."}):h?(0,r.jsxs)(r.Fragment,{children:[r.jsx(y,{stats:h}),r.jsx(v,{stats:h}),r.jsx(N,{stats:h}),r.jsx(w,{stats:h})]}):r.jsx("div",{className:"text-center py-12 text-red-600",children:"Fehler beim Laden der Dashboard-Daten"})})})]})}function y({stats:e}){let{total:s,product_count:t,recommendation_count:a}=e.missed_revenue;return 0===t?null:r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-xl border-2 border-red-200 p-8 mb-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx(c.Z,{className:"w-8 h-8 text-white"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-2",children:"\uD83D\uDCB8 Du verlierst aktuell Geld!"}),(0,r.jsxs)("p",{className:"text-red-800 mb-6",children:[t," ",1===t?"Produkt hat":"Produkte haben"," suboptimale Preise.",a&&a!==t&&(0,r.jsxs)("span",{className:"text-sm text-red-700 ml-2",children:["(",a," Empfehlungen verf\xfcgbar)"]})]}),r.jsx("div",{className:"bg-white rounded-lg border-2 border-green-300 p-6 mb-4",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-600 uppercase tracking-wide mb-2",children:"POTENZIAL DIESEN MONAT"}),(0,r.jsxs)("div",{className:"text-5xl font-bold text-green-600 mb-2",children:["+ ",f(s)]}),r.jsx("div",{className:"text-gray-600",children:"mehr Umsatz m\xf6glich"})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:[r.jsx("strong",{children:t})," ",1===t?"Produkt":"Produkte"," mit Optimierungspotenzial"]})]}),a&&a!==t&&(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:[r.jsx("strong",{children:a})," Preisempfehlungen insgesamt"]})]}),(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["\xd8 ",r.jsx("strong",{children:f(s/t)})," pro Produkt/Monat"]})]})]})}),r.jsx(n.rU,{href:"/products",children:(0,r.jsxs)("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[r.jsx(m.Z,{className:"w-5 h-5"}),"Produkte optimieren"]})})]})]})})}function v({stats:e}){let{level:s,points:t,next_level_points:a,points_needed:l,completed_steps:i,pending_steps:o}=e.progress,d=t/a*100,c={bronze:{name:"\uD83E\uDD49 Bronze - Anf\xe4nger",color:"from-orange-400 to-orange-600"},silver:{name:"\uD83E\uDD48 Silber - Fortgeschritten",color:"from-gray-300 to-gray-500"},gold:{name:"\uD83E\uDD47 Gold - Profi",color:"from-yellow-400 to-yellow-600"},platinum:{name:"\uD83D\uDC8E Platin - Experte",color:"from-purple-400 to-purple-600"}},m=c[s]||c.bronze,x=e=>{switch(e){case"products":return"/products";case"recommendations":return"/recommendations";default:return"/"}};return(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx(h,{className:"w-6 h-6 text-yellow-500"}),"Deine Optimierungs-Reise"]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("div",{className:"text-lg font-semibold mb-3",children:m.name}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full bg-gradient-to-r ${m.color} transition-all duration-500`,style:{width:`${Math.min(d,100)}%`}})}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:[Math.round(d),"% zum n\xe4chsten Level (",t,"/",a," Punkte)",l&&l>0&&(0,r.jsxs)("span",{className:"text-gray-500 ml-2",children:["• Noch ",l," Punkte bis ",c["bronze"===s?"silver":"silver"===s?"gold":"platinum"]?.name.split(" - ")[1]||"n\xe4chstes Level"]})]})]})]}),i.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Abgeschlossen:"}),r.jsx("div",{className:"space-y-2",children:i.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-3 text-green-700",children:[r.jsx(u.Z,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:e})]},s))})]}),o&&o.length>0&&(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Noch zu erledigen (bis zum n\xe4chsten Level):"}),r.jsx("div",{className:"space-y-2",children:o.map((e,s)=>r.jsx(n.rU,{href:x(e.action),children:(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600 hover:text-blue-600 transition-colors cursor-pointer p-2 rounded hover:bg-gray-50",children:[r.jsx("div",{className:"w-5 h-5 flex-shrink-0 flex items-center justify-center border-2 border-gray-300 rounded-full",children:r.jsx("span",{className:"text-xs font-bold",children:e.points})}),r.jsx("span",{className:"text-sm flex-1",children:e.text}),r.jsx(p,{className:"w-4 h-4 flex-shrink-0 opacity-50"})]})},s))})]})]})}function N({stats:e}){let s=[{icon:r.jsx(m.Z,{className:"w-8 h-8"}),title:"Produkte",value:e.products_count,description:"synchronisiert",href:"/products",color:"from-blue-50 to-blue-100 border-blue-200 text-blue-700"},{icon:r.jsx(g,{className:"w-8 h-8"}),title:"Empfehlungen",value:e.recommendations_pending,description:"ausstehend",href:"/recommendations",color:"from-yellow-50 to-yellow-100 border-yellow-200 text-yellow-700"},{icon:r.jsx(b.Z,{className:"w-8 h-8"}),title:"Umgesetzt",value:e.recommendations_applied,description:"Empfehlungen",href:"/recommendations",color:"from-green-50 to-green-100 border-green-200 text-green-700"}];return(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"⚡ Schnellaktionen"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map((e,s)=>{var t;return r.jsx(n.rU,{href:e.href,children:(0,r.jsxs)("div",{className:`bg-gradient-to-br ${e.color} border-2 rounded-xl p-6 hover:shadow-lg transition-all cursor-pointer`,children:[r.jsx("div",{className:"mb-4",children:e.icon}),r.jsx("h4",{className:"font-bold text-lg mb-1",children:e.title}),r.jsx("div",{className:"text-3xl font-bold mb-2",children:(t=e.value,new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}).format(t))}),r.jsx("div",{className:"text-sm opacity-80",children:e.description})]})},s)})})]})}function w({stats:e}){return 0===e.next_steps.length?null:(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"\uD83D\uDCCC N\xe4chste Schritte"}),r.jsx("div",{className:"space-y-3",children:e.next_steps.map((e,s)=>r.jsx("div",{className:`${e.urgent?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"} border-2 rounded-lg p-4`,children:r.jsx("div",{className:"flex items-start justify-between gap-4",children:(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold mb-2",children:e.title}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:e.description}),r.jsx(n.rU,{href:e.href,children:(0,r.jsxs)("button",{className:"text-sm font-medium text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[e.action," ",r.jsx(p,{className:"w-4 h-4"})]})})]})})},s))})]})}},5269:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(7075).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6262:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(7075).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1917:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(7075).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7827:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let r=(0,t(6843).createProxy)(String.raw`C:\Users\Kujti\Desktop\Trading Tools\MVP PRICE\frontend\app\[locale]\page.tsx`),{__esModule:a,$$typeof:l}=r,n=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,312,690,242],()=>t(596));module.exports=r})();