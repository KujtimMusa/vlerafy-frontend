{"version":3,"file":"439.js","mappings":"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","sources":["webpack://pricing-optimizer-frontend/./messages/ lazy ^\\.\\/.*\\.json$ namespace object","webpack://pricing-optimizer-frontend/app/[locale]/layout.tsx","webpack://pricing-optimizer-frontend/sentry-wrapper-module","webpack://pricing-optimizer-frontend/app/layout.tsx","webpack://pricing-optimizer-frontend/?d03d","webpack://pricing-optimizer-frontend/?57c3","webpack://pricing-optimizer-frontend/?6cda","webpack://pricing-optimizer-frontend/./components/ErrorBoundary.tsx","webpack://pricing-optimizer-frontend/./components/ErrorBoundaryWrapper.tsx","webpack://pricing-optimizer-frontend/./components/ShopSwitcher.tsx","webpack://pricing-optimizer-frontend/./hooks/useShop.ts","webpack://pricing-optimizer-frontend/./lib/api.ts","webpack://pricing-optimizer-frontend/./i18n/routing.ts","webpack://pricing-optimizer-frontend/./navigation.ts","webpack://pricing-optimizer-frontend/./sentry.server.config.ts","webpack://pricing-optimizer-frontend/./i18n.ts","webpack://pricing-optimizer-frontend/./app/globals.css","webpack://pricing-optimizer-frontend/<anon>"],"sourcesContent":["var map = {\n\t\"./de.json\": [\n\t\t7029,\n\t\t29\n\t],\n\t\"./en.json\": [\n\t\t9316,\n\t\t316\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 7476;\nmodule.exports = webpackAsyncContext;","import { NextIntlClientProvider } from 'next-intl';\nimport { getMessages } from 'next-intl/server';\nimport { notFound } from 'next/navigation';\nimport { ErrorBoundaryWrapper } from '@/components/ErrorBoundaryWrapper';\nimport '../globals.css'\n\nconst locales = ['de', 'en'];\n\nexport function generateStaticParams() {\n  return locales.map((locale) => ({ locale }));\n}\n\nexport default async function LocaleLayout({\n  children,\n  params\n}: {\n  children: React.ReactNode;\n  params: Promise<{ locale: string }> | { locale: string };\n}) {\n  // Handle both Promise and direct params (Next.js 15 vs 14)\n  const resolvedParams = await Promise.resolve(params);\n  const locale = resolvedParams?.locale || 'de';\n  \n  // Validate locale\n  if (!locales.includes(locale as any)) {\n    notFound();\n  }\n\n  const messages = await getMessages({ locale });\n\n  return (\n    <ErrorBoundaryWrapper>\n      <NextIntlClientProvider messages={messages}>\n        {/* Header/Navbar - TEMPOR√ÑR ENTFERNT */}\n        {/* Main Content */}\n        <main style={{ backgroundColor: 'transparent' }}>{children}</main>\n      </NextIntlClientProvider>\n    </ErrorBoundaryWrapper>\n  );\n}\n\n","import { _nullishCoalesce, _optionalChain } from '@sentry/utils';\nimport * as Sentry from '@sentry/nextjs';\nimport { requestAsyncStorage } from 'next/dist/client/components/request-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\n\nconst serverComponent = serverComponentModule.default;\n\nlet wrappedServerComponent;\nif (typeof serverComponent === 'function') {\n  // For some odd Next.js magic reason, `headers()` will not work if used inside `wrapServerComponentsWithSentry`.\n  // Current assumption is that Next.js applies some loader magic to userfiles, but not files in node_modules. This file\n  // is technically a userfile so it gets the loader magic applied.\n  wrappedServerComponent = new Proxy(serverComponent, {\n    apply: (originalFunction, thisArg, args) => {\n      let sentryTraceHeader = undefined;\n      let baggageHeader = undefined;\n      let headers = undefined;\n\n      // We try-catch here just in `requestAsyncStorage` is undefined since it may not be defined\n      try {\n        const requestAsyncStore = requestAsyncStorage.getStore();\n        sentryTraceHeader = _nullishCoalesce(_optionalChain([requestAsyncStore, 'optionalAccess', _ => _.headers, 'access', _2 => _2.get, 'call', _3 => _3('sentry-trace')]), () => ( undefined));\n        baggageHeader = _nullishCoalesce(_optionalChain([requestAsyncStore, 'optionalAccess', _4 => _4.headers, 'access', _5 => _5.get, 'call', _6 => _6('baggage')]), () => ( undefined));\n        headers = _optionalChain([requestAsyncStore, 'optionalAccess', _7 => _7.headers]);\n      } catch (e) {\n        /** empty */\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n      return Sentry.wrapServerComponentWithSentry(originalFunction , {\n        componentRoute: '/[locale]',\n        componentType: 'Unknown',\n        sentryTraceHeader,\n        baggageHeader,\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n} else {\n  wrappedServerComponent = serverComponent;\n}\n\nconst generateMetadata = serverComponentModule.generateMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateMetadata, {\n      componentRoute: '/[locale]',\n      componentType: 'Unknown',\n      generationFunctionIdentifier: 'generateMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateImageMetadata = serverComponentModule.generateImageMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateImageMetadata, {\n      componentRoute: '/[locale]',\n      componentType: 'Unknown',\n      generationFunctionIdentifier: 'generateImageMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateViewport = serverComponentModule.generateViewport\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateViewport, {\n      componentRoute: '/[locale]',\n      componentType: 'Unknown',\n      generationFunctionIdentifier: 'generateViewport',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst wrappedServerComponent$1 = wrappedServerComponent;\n\nexport { wrappedServerComponent$1 as default, generateImageMetadata, generateMetadata, generateViewport };\n","import type { Metadata } from 'next'\nimport { Toaster } from 'sonner'\n\nexport const metadata: Metadata = {\n  title: 'PriceIQ',\n  description: 'Shopify Pricing Optimization Tool',\n}\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <html className=\"dark\">\n      <body>\n        {children}\n        <Toaster position=\"top-right\" richColors />\n      </body>\n    </html>\n  )\n}\n\n\n\n\n\n\n\n\n","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\components\\\\ErrorBoundaryWrapper.tsx\");\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\next-intl\\\\dist\\\\esm\\\\production\\\\shared\\\\NextIntlClientProvider.js\")","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\next\\\\dist\\\\client\\\\components\\\\app-router.js\");\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\next\\\\dist\\\\client\\\\components\\\\error-boundary.js\");\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\next\\\\dist\\\\client\\\\components\\\\layout-router.js\");\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\next\\\\dist\\\\client\\\\components\\\\not-found-boundary.js\");\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\next\\\\dist\\\\client\\\\components\\\\render-from-template-context.js\");\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\next\\\\dist\\\\client\\\\components\\\\static-generation-searchparams-bailout-provider.js\")","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Kujti\\\\Desktop\\\\Trading Tools\\\\MVP PRICE\\\\frontend\\\\node_modules\\\\sonner\\\\dist\\\\index.mjs\")","\"use client\";\r\n\r\nimport * as Sentry from \"@sentry/nextjs\";\r\nimport React, { Component, ReactNode } from \"react\";\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n}\r\n\r\n/**\r\n * React Error Boundary Component\r\n * Catches JavaScript errors in child components and logs them to Sentry\r\n */\r\nexport default class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    // Log error to Sentry\r\n    Sentry.captureException(error, {\r\n      contexts: {\r\n        react: {\r\n          componentStack: errorInfo.componentStack,\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Custom fallback UI\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      // Default fallback UI\r\n      return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen p-4\">\r\n          <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-6\">\r\n            <h2 className=\"text-2xl font-bold mb-4 text-red-600\">Something went wrong!</h2>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              {this.state.error?.message || \"An unexpected error occurred\"}\r\n            </p>\r\n            <button\r\n              onClick={() => {\r\n                this.setState({ hasError: false, error: null });\r\n                window.location.reload();\r\n              }}\r\n              className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\r\n            >\r\n              Try again\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","'use client';\r\n\r\nimport ErrorBoundary from './ErrorBoundary';\r\n\r\n/**\r\n * Client Component Wrapper f√ºr Error Boundary\r\n * Kann in Server Components verwendet werden\r\n */\r\nexport function ErrorBoundaryWrapper({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <ErrorBoundary>\r\n      {children}\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","/**\n * Shop-Switcher Component\n * Erm√∂glicht Wechsel zwischen Demo-Shop und echten Shopify-Shops\n */\n'use client';\n\nimport React, { useState } from 'react';\nimport { useShop, Shop } from '@/hooks/useShop';\nimport { API_URL } from '@/lib/api';\nimport { Store, Check } from 'lucide-react';\n\ninterface ShopSwitcherProps {\n  className?: string;\n}\n\nexport function ShopSwitcher({ className = '' }: ShopSwitcherProps) {\n  const { shops, currentShop, isDemoMode, loading, error, switchToShop, refresh } = useShop();\n  const [shopDomain, setShopDomain] = useState('');\n\n  const handleSwitch = async (shop: Shop | null, useDemo: boolean) => {\n    if (!shop && !useDemo) {\n      // Live Mode ohne Shop - nur isDemoMode auf false setzen\n      // Das wird durch die Buttons gehandhabt\n      return;\n    }\n    \n    if (!shop) return;\n    \n    try {\n      console.log(`[ShopSwitcher] Switching to shop ${shop.id}, demo: ${useDemo}`);\n      await switchToShop(shop.id, useDemo);\n      console.log('[ShopSwitcher] Shop switched successfully');\n    } catch (err) {\n      console.error('[ShopSwitcher] Failed to switch shop:', err);\n    }\n  };\n\n  const handleConnectShopify = () => {\n    const raw = shopDomain.trim();\n    if (!raw) {\n      alert('Bitte gib deine Shopify-Domain ein, z.B. dein-shop.myshopify.com');\n      return;\n    }\n    if (!raw.includes('.')) {\n      alert('Bitte gib eine vollst√§ndige Domain ein, z.B. dein-shop.myshopify.com');\n      return;\n    }\n\n    const url = `${API_URL}/auth/shopify/install?shop=${encodeURIComponent(raw)}`;\n    if (typeof window !== 'undefined') {\n      window.open(url, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  const handleLiveMode = async () => {\n    console.log('[ShopSwitcher] üîò Live Button clicked');\n    \n    // FIX: Filter Demo Shop nochmal explizit raus\n    const realLiveShops = shops.filter(s => \n      s.id !== 999 && // Demo Shop ID explizit ausschlie√üen\n      s.type === 'shopify' // Nur Shopify Shops\n    );\n    \n    console.log('[ShopSwitcher] realLiveShops (filtered):', realLiveShops.map(s => ({ id: s.id, name: s.name, type: s.type })));\n    \n    if (realLiveShops.length > 0) {\n      console.log('[ShopSwitcher] ‚Üí Switching to real shop:', realLiveShops[0].name);\n      await handleSwitch(realLiveShops[0], false);\n    } else {\n      console.log('[ShopSwitcher] ‚Üí No real shops, showing connect card');\n      // WICHTIG: Zeige Connect Card\n      // isDemoMode muss false bleiben aber keine Shop-Karte\n      if (demoShop) {\n        try {\n          console.log('[ShopSwitcher] Switching to Live Mode (no shop installed)');\n          await switchToShop(demoShop.id, false); // Backend erkennt dass Shop nicht existiert\n        } catch (err) {\n          console.error('[ShopSwitcher] Error switching to Live Mode:', err);\n          // Falls das fehlschl√§gt, lade Shops neu\n          await refresh();\n        }\n      }\n    }\n  };\n\n  const handleDemoMode = async () => {\n    const demoShop = shops.find(s => s.type === 'demo');\n    if (demoShop) {\n      await handleSwitch(demoShop, true);\n    }\n  };\n\n  if (loading && shops.length === 0) {\n    return (\n      <div className={`shop-switcher ${className}`}>\n        <div className=\"p-4 text-center text-gray-500\">Lade Shops...</div>\n        {error && (\n          <div className=\"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-600\">\n            {error}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (error && shops.length === 0) {\n    return (\n      <div className={`shop-switcher ${className}`}>\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-sm text-red-600 font-medium mb-2\">Fehler beim Laden der Shops</p>\n          <p className=\"text-xs text-red-500\">{error}</p>\n          <button\n            onClick={() => refresh()}\n            className=\"mt-2 px-3 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200\"\n          >\n            Erneut versuchen\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const demoShop = shops.find(s => s.type === 'demo' || s.id === 999);\n  \n  // FIX: Filter echte Live Shops - Demo Shop (ID 999) explizit ausschlie√üen\n  const liveShops = shops.filter(s => \n    s.type === 'shopify' && \n    s.id !== 999 // Demo Shop ID explizit ausschlie√üen\n  );\n  \n  // FIX: Filter echte Live Shops f√ºr Rendering (ohne Demo Shop!)\n  const realLiveShops = liveShops.filter(s =>\n    s.id !== 999 &&\n    s.type === 'shopify'\n  );\n  \n  // DEBUG: Pr√ºfe auf doppelte Demo Shops\n  const demoShops = shops.filter(s => s.type === 'demo' || s.id === 999);\n  if (demoShops.length > 1) {\n    console.warn('[ShopSwitcher] ‚ö†Ô∏è MEHRERE DEMO SHOPS GEFUNDEN:', demoShops.map(s => ({ id: s.id, name: s.name, type: s.type })));\n  }\n  \n  // DEBUG: Pr√ºfe ob Demo Shop f√§lschlicherweise in liveShops ist\n  const demoInLiveShops = liveShops.find(s => s.id === 999 || s.type === 'demo');\n  if (demoInLiveShops) {\n    console.error('[ShopSwitcher] ‚ùå BUG: Demo Shop in liveShops gefunden!', demoInLiveShops);\n  }\n  \n  console.log('[ShopSwitcher] Render:', {\n    shopsCount: shops.length,\n    shops: shops.map(s => ({ id: s.id, name: s.name, type: s.type })),\n    demoShop: demoShop ? { id: demoShop.id, name: demoShop.name, type: demoShop.type } : null,\n    demoShopsCount: demoShops.length,\n    liveShopsCount: liveShops.length,\n    liveShops: liveShops.map(s => ({ id: s.id, name: s.name, type: s.type })),\n    currentShop: currentShop ? { id: currentShop.id, name: currentShop.name, type: currentShop.type } : null,\n    isDemoMode,\n    demoInLiveShops: demoInLiveShops ? 'BUG!' : 'OK'\n  });\n\n  return (\n    <div className={`shop-switcher ${className} relative`} style={{ borderTop: 'none', border: 'none' }}>\n      {/* Header mit Buttons */}\n      <div className=\"mb-4\">\n        <div className=\"text-sm font-medium mb-2\" style={{ color: '#cbd5e1' }}>\n          Aktiver Shop\n        </div>\n        \n        {/* Live/Demo Toggle Buttons */}\n        <div className=\"flex gap-2 p-1 bg-slate-800 border border-gray-700 rounded-lg\">\n          {/* Live Button */}\n          <button\n            onClick={handleLiveMode}\n            disabled={loading}\n            className={`flex-1 px-4 py-2 font-medium transition-all rounded ${\n              loading ? 'opacity-50 cursor-not-allowed' : ''\n            } ${\n              !isDemoMode \n                ? 'bg-slate-700 text-blue-400' \n                : 'text-gray-400 hover:text-gray-200'\n            }`}\n          >\n            Live\n          </button>\n          \n          {/* Demo Button */}\n          <button\n            onClick={handleDemoMode}\n            disabled={loading || !demoShop}\n            className={`flex-1 px-4 py-2 font-medium transition-all rounded ${\n              loading || !demoShop ? 'opacity-50 cursor-not-allowed' : ''\n            } ${\n              isDemoMode \n                ? 'bg-slate-700 text-blue-400' \n                : 'text-gray-400 hover:text-gray-200'\n            }`}\n          >\n            Demo\n          </button>\n        </div>\n      </div>\n\n      {/* Shop Cards - Conditional Rendering */}\n      {isDemoMode ? (\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        // DEMO MODE\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        demoShop && (\n          <div className=\"space-y-2\">\n            {/* Demo Banner */}\n            <div className=\"border p-3\" style={{ backgroundColor: '#1e293b', borderColor: '#475569' }}>\n              <div className=\"flex items-start gap-2\">\n                <span className=\"text-lg\">üß™</span>\n                <div>\n                  <div className=\"font-semibold text-sm\" style={{ color: '#f1f5f9' }}>\n                    Demo-Modus Aktiv\n                  </div>\n                  <p className=\"text-xs mt-1\" style={{ color: '#cbd5e1' }}>\n                    Du testest mit 20 synthetischen Produkten. Wechsle zu Live um echte Shopify-Daten zu nutzen.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Demo Shop Card */}\n            <div className=\"border-2 border-green-500 p-4\" style={{ backgroundColor: '#1e293b' }}>\n              <div className=\"flex items-start gap-3\">\n                <div className=\"text-2xl\">üß™</div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"font-semibold\" style={{ color: '#f1f5f9' }}>{demoShop.name}</div>\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"text-green-600 font-medium text-sm\">Aktiv</span>\n                      <span className=\"text-green-600\">‚úì</span>\n                    </div>\n                  </div>\n                  <div className=\"text-sm mt-1\" style={{ color: '#94a3b8' }}>\n                    {demoShop.product_count} Produkte ‚Ä¢ 90 Tage Verlauf\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      ) : (\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        // LIVE MODE\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        <div className=\"space-y-2\">\n          {realLiveShops.length > 0 ? (\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            // FALL 1: Shopify Shop ist installiert\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            realLiveShops.map((shop) => (\n              <div\n                key={shop.id}\n                className={`border-2 p-4 cursor-pointer transition-all ${\n                  shop.is_active \n                    ? 'border-green-500' \n                    : 'border-gray-300'\n                } ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\n                style={{\n                  backgroundColor: shop.is_active ? '#1e293b' : '#1e293b',\n                }}\n                onClick={async () => {\n                  if (loading) return;\n                  await handleSwitch(shop, false);\n                }}\n              >\n                <div className=\"flex items-center gap-3\">\n                  {/* Shop Icon */}\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center\">\n                      <Store className=\"w-5 h-5 text-white\" />\n                    </div>\n                  </div>\n                  \n                  {/* Shop Info */}\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2\">\n                      <p className=\"text-sm font-semibold text-slate-100 truncate\">\n                        {shop.name || 'Shopify Shop'}\n                      </p>\n                      {shop.is_active && (\n                        <span className=\"px-2 py-0.5 rounded-md bg-green-500/10 border border-green-500/20 flex-shrink-0\">\n                          <span className=\"text-xs font-medium text-green-400\">Aktiv</span>\n                        </span>\n                      )}\n                    </div>\n                    {shop.shop_url && (\n                      <p className=\"text-xs text-slate-400 truncate mt-0.5\">\n                        {shop.shop_url}\n                      </p>\n                    )}\n                    <p className=\"text-xs text-slate-500 mt-1\">\n                      {shop.product_count || 0} Produkte ‚Ä¢ Verbunden via Shopify\n                    </p>\n                  </div>\n                  \n                  {/* Status Check */}\n                  {shop.is_active && (\n                    <div className=\"flex-shrink-0\">\n                      <Check className=\"w-4 h-4 text-green-400\" />\n                    </div>\n                  )}\n                </div>\n              </div>\n              ))\n            ) : (\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            // FALL 2: Kein Shop installiert\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            <div className=\"border-2 border-gray-300 border-dashed p-6\" style={{ backgroundColor: '#1e293b' }}>\n              <div className=\"text-center\">\n                <div className=\"text-5xl mb-4\">üè™</div>\n                \n                <h3 className=\"text-lg font-semibold mb-2\" style={{ color: '#f1f5f9' }}>\n                  Shopify Shop verbinden\n                </h3>\n                \n                <p className=\"text-sm mb-6\" style={{ color: '#94a3b8' }}>\n                  Installiere PriceIQ in deinem Shopify Store um automatisch Preis-Optimierungen zu erhalten.\n                </p>\n                \n                {/* Install Method 1: Direkt Domain eingeben */}\n                <div className=\"max-w-sm mx-auto space-y-3 mb-4\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"dein-shop.myshopify.com\"\n                    value={shopDomain}\n                    onChange={(e) => setShopDomain(e.target.value)}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter') {\n                        handleConnectShopify();\n                      }\n                    }}\n                  />\n                  <button\n                    onClick={handleConnectShopify}\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\n                  >\n                    Shop verbinden\n                  </button>\n                </div>\n                \n                {/* Install Method 2: Shopify App Store Link */}\n                <div className=\"text-sm\" style={{ color: '#94a3b8' }}>\n                  Oder installiere PriceIQ direkt aus dem{' '}\n                  <a \n                    href=\"https://apps.shopify.com\" \n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-blue-600 hover:underline font-medium\"\n                  >\n                    Shopify App Store\n                  </a>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Loading Overlay */}\n      {loading && (\n        <div className=\"absolute inset-0 bg-white bg-opacity-50 flex items-center justify-center rounded-lg\">\n          <div className=\"text-sm text-gray-600\">Wechselt...</div>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * React Hook f√ºr Shop-Context\n * Verwaltet aktiven Shop und Demo-Mode\n */\nimport { useEffect, useState } from 'react';\nimport { getCurrentShop, getAvailableShops, switchShop } from '@/lib/api';\n\nexport interface Shop {\n  id: number;\n  name: string;\n  type: 'shopify' | 'demo';\n  shop_url: string | null;\n  product_count: number;\n  is_active: boolean;\n}\n\nexport interface ShopContext {\n  currentShop: Shop | null;\n  isDemoMode: boolean;\n  shops: Shop[];\n  loading: boolean;\n  error: string | null;\n  refresh: () => Promise<void>;\n  switchToShop: (shopId: number, useDemo: boolean) => Promise<void>;\n}\n\nexport function useShop(): ShopContext {\n  const [currentShop, setCurrentShop] = useState<Shop | null>(null);\n  const [isDemoMode, setIsDemoMode] = useState(false);\n  const [shops, setShops] = useState<Shop[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const loadCurrentShop = async () => {\n    try {\n      setError(null);\n      const data = await getCurrentShop();\n      console.log('[useShop] getCurrentShop response:', data);\n      setCurrentShop(data.shop);\n      setIsDemoMode(data.is_demo_mode || false);\n      console.log('[useShop] Current shop updated:', data.shop?.name, 'isDemoMode:', data.is_demo_mode);\n    } catch (err: any) {\n      setError(err.message || 'Fehler beim Laden des Shops');\n      console.error('[useShop] Error loading current shop:', err);\n    }\n  };\n\n  const loadShops = async (preserveDemoMode: boolean = false) => {\n    try {\n      setError(null);\n      const data = await getAvailableShops();\n      console.log('[useShop] getAvailableShops response:', data);\n      \n      // DEBUG: Pr√ºfe auf doppelte Shops\n      const shopsArray = data.shops || [];\n      const demoShops = shopsArray.filter((s: Shop) => s.type === 'demo');\n      if (demoShops.length > 1) {\n        console.warn('[useShop] ‚ö†Ô∏è BACKEND GIBT MEHRERE DEMO SHOPS ZUR√úCK:', demoShops.map((s: Shop) => ({ id: s.id, name: s.name })));\n      }\n      \n      // Entferne doppelte Demo Shops (behalte nur den ersten)\n      const uniqueShops = shopsArray.reduce((acc: Shop[], shop: Shop) => {\n        if (shop.type === 'demo') {\n          // Pr√ºfe ob bereits ein Demo Shop im Array ist\n          const hasDemo = acc.some(s => s.type === 'demo');\n          if (!hasDemo) {\n            acc.push(shop);\n          } else {\n            console.warn('[useShop] ‚ö†Ô∏è Doppelten Demo Shop entfernt:', shop.name);\n          }\n        } else {\n          acc.push(shop);\n        }\n        return acc;\n      }, []);\n      \n      setShops(uniqueShops);\n      \n      // WICHTIG: Nur isDemoMode setzen, wenn preserveDemoMode false ist\n      if (!preserveDemoMode) {\n        setIsDemoMode(data.is_demo_mode || false);\n      }\n      \n      // Finde aktiven Shop basierend auf active_shop_id und is_demo_mode\n      const activeShopId = data.active_shop_id;\n      const isDemo = preserveDemoMode ? isDemoMode : (data.is_demo_mode || false);\n      \n      let activeShop = null;\n      if (isDemo) {\n        activeShop = data.shops?.find((s: Shop) => s.type === 'demo') || null;\n      } else {\n        // F√ºr Live-Shop: Suche nach active_shop_id (ignoriere is_active Flag)\n        // WICHTIG: Demo Shop (ID 999) explizit ausschlie√üen!\n        activeShop = data.shops?.find((s: Shop) => \n          s.id === activeShopId && \n          s.type === 'shopify' && \n          s.id !== 999  // Demo Shop explizit ausschlie√üen\n        ) || null;\n        // Fallback: Erster Live-Shop (ohne Demo Shop)\n        if (!activeShop && data.shops) {\n          activeShop = data.shops.find((s: Shop) => \n            s.type === 'shopify' && \n            s.id !== 999  // Demo Shop explizit ausschlie√üen\n          ) || null;\n        }\n      }\n      \n      // Fallback: Nutze is_active Flag\n      if (!activeShop && data.shops) {\n        activeShop = data.shops.find((s: Shop) => s.is_active) || null;\n      }\n      \n      // Fallback: Erster Shop in Liste\n      if (!activeShop && data.shops && data.shops.length > 0) {\n        activeShop = data.shops[0];\n        console.warn('[useShop] Using first shop as fallback:', activeShop.name);\n      }\n      \n      setCurrentShop(activeShop);\n      console.log('[useShop] Active shop set to:', activeShop?.name || 'null', 'isDemoMode:', isDemo);\n      \n      // WICHTIG: Setze loading auf false nach erfolgreichem Laden\n      setLoading(false);\n      \n    } catch (err: any) {\n      const errorMsg = err.message || 'Fehler beim Laden der Shops';\n      setError(errorMsg);\n      console.error('Error loading shops:', err);\n      // Setze Demo-Shop als Fallback\n      if (shops.length === 0) {\n        setShops([{\n          id: 999,\n          name: 'Demo Shop',\n          type: 'demo' as const,\n          shop_url: null,\n          product_count: 20,\n          is_active: true\n        }]);\n        setCurrentShop({\n          id: 999,\n          name: 'Demo Shop',\n          type: 'demo' as const,\n          shop_url: null,\n          product_count: 20,\n          is_active: true\n        });\n        setIsDemoMode(true);\n      }\n      // WICHTIG: Setze loading auf false auch bei Fehler\n      setLoading(false);\n    }\n  };\n\n  const refresh = async (preserveDemoMode: boolean = false) => {\n    try {\n      // Lade zuerst Shops (enth√§lt active_shop_id und is_demo_mode)\n      // preserveDemoMode=true verhindert, dass isDemoMode √ºberschrieben wird\n      await loadShops(preserveDemoMode);\n      console.log('[useShop] Refresh completed');\n    } catch (err) {\n      console.error('[useShop] Error during refresh:', err);\n      // Sicherstellen, dass loading auf false gesetzt wird\n      setLoading(false);\n    }\n  };\n\n  const switchToShop = async (shopId: number, useDemo: boolean) => {\n    try {\n      console.log(`[useShop] Switching to shop ${shopId}, demo: ${useDemo}`);\n      setLoading(true);\n      setError(null);\n\n      const result = await switchShop(shopId, useDemo);\n      console.log('[useShop] Switch API response:', result);\n\n      // ===== KRITISCH: Setze State SOFORT und NICHT √ºber refresh() =====\n      \n      // Optimistic Update\n      setIsDemoMode(useDemo);\n      \n      // Finde den neuen Shop in der Liste oder erstelle ihn\n      let newShop = shops.find((s: Shop) => s.id === shopId);\n      \n      // Falls Shop nicht in Liste, nutze API-Response oder erstelle Shop-Objekt\n      if (!newShop) {\n        if (result.active_shop) {\n          newShop = {\n            id: result.active_shop.id,\n            name: result.active_shop.name,\n            type: result.active_shop.type as 'shopify' | 'demo',\n            shop_url: null,\n            product_count: 0,  // Wird beim Refresh aktualisiert\n            is_active: true\n          };\n        } else if (useDemo) {\n          // Demo Shop Fallback\n          newShop = {\n            id: 999,\n            name: 'Demo Shop',\n            type: 'demo' as const,\n            shop_url: null,\n            product_count: 0,\n            is_active: true\n          };\n        }\n      }\n      \n      if (newShop) {\n        setCurrentShop(newShop);\n        console.log(\n          `[useShop] Optimistic update: currentShop = ${newShop.name} ` +\n          `isDemoMode = ${useDemo}`\n        );\n      }\n      \n      // Save to localStorage\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('current_shop_id', shopId.toString());\n        localStorage.setItem('shop_mode', useDemo ? 'demo' : 'live');\n      }\n\n      // Dispatch event f√ºr andere Komponenten\n      window.dispatchEvent(new CustomEvent('shop-switched', {\n        detail: {\n          shopId,\n          useDemo,\n          mode: useDemo ? 'demo' : 'live'\n        }\n      }));\n      console.log('[useShop] shop-switched event dispatched');\n\n      // ===== WICHTIG: Refresh OHNE Shop-Wechsel =====\n      // Refresh l√§dt nur Shops-Liste neu, √§ndert aber NICHT currentShop!\n      await refreshShopsOnly();\n      \n      console.log('[useShop] Data refreshed after switch');\n\n    } catch (err: any) {\n      console.error('[useShop] Switch failed:', err);\n      setError(err.message || 'Fehler beim Wechseln des Shops');\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Neue Funktion: Refresh ohne Shop-Wechsel\n  const refreshShopsOnly = async () => {\n    try {\n      const data = await getAvailableShops();\n      console.log('[useShop] getAvailableShops response:', data);\n\n      // NUR shops updaten, currentShop NICHT √§ndern!\n      setShops(data.shops || []);\n      \n      console.log('[useShop] Shops list refreshed (without changing currentShop)');\n\n    } catch (err: any) {\n      console.error('[useShop] Refresh failed:', err);\n    }\n  };\n\n  useEffect(() => {\n    // Pr√ºfe localStorage f√ºr shop_id beim Mount\n    if (typeof window !== 'undefined') {\n      const storedShopId = localStorage.getItem('current_shop_id');\n      const storedMode = localStorage.getItem('shop_mode');\n      \n      if (storedShopId) {\n        console.log('[useShop] Found shop_id in localStorage:', storedShopId);\n        const shopIdNum = parseInt(storedShopId);\n        const useDemo = storedMode === 'demo';\n        \n        // Wenn shop_id vorhanden, switch zu diesem Shop\n        if (!isNaN(shopIdNum)) {\n          console.log('[useShop] Auto-switching to shop from localStorage:', shopIdNum, 'demo:', useDemo);\n          switchToShop(shopIdNum, useDemo).catch((err) => {\n            console.error('[useShop] Error auto-switching shop:', err);\n            // Bei Fehler: Normal refresh\n            refresh();\n          });\n          return;\n        }\n      }\n    }\n    \n    // Load on mount (wenn keine shop_id in localStorage)\n    refresh();\n\n    // Listen for shop switch events\n    const handleShopSwitch = (event: CustomEvent) => {\n      console.log('[useShop] shop-switched event received:', event.detail);\n      // Wenn shop_id im Event, speichere es\n      if (event.detail?.shopId && typeof window !== 'undefined') {\n        localStorage.setItem('current_shop_id', event.detail.shopId.toString());\n        const mode = event.detail.mode || (event.detail.useDemo ? 'demo' : 'live');\n        localStorage.setItem('shop_mode', mode);\n        \n        // WICHTIG: Setze State SOFORT, ohne auf refresh() zu warten\n        const useDemo = mode === 'demo';\n        setIsDemoMode(useDemo);\n        \n        // Finde Shop in aktueller Liste\n        const switchedShop = shops.find((s: Shop) => s.id === event.detail.shopId);\n        if (switchedShop) {\n          setCurrentShop(switchedShop);\n          console.log('[useShop] Shop updated from event:', switchedShop.name, 'demo:', useDemo);\n        }\n      }\n      \n      // Refresh mit preserveDemoMode=true, damit isDemoMode nicht √ºberschrieben wird\n      refresh(true).then(() => {\n        // Stelle sicher, dass isDemoMode korrekt bleibt\n        if (event.detail?.useDemo !== undefined) {\n          setIsDemoMode(event.detail.useDemo);\n        }\n      });\n    };\n\n    window.addEventListener('shop-switched', handleShopSwitch as EventListener);\n    return () => window.removeEventListener('shop-switched', handleShopSwitch as EventListener);\n  }, []);\n\n  return {\n    currentShop,\n    isDemoMode,\n    shops,\n    loading,\n    error,\n    refresh,\n    switchToShop\n  };\n}\n\n","export const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\n/**\n * Dashboard Stats API\n * L√§dt Missed Revenue und Trust Ladder Daten\n */\nexport async function getDashboardStats() {\n  const response = await fetch(`${API_URL}/api/dashboard/stats`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Dashboard-Daten');\n  }\n  return response.json();\n}\n\n// Session-ID Management\nfunction getOrCreateSessionId(): string {\n  if (typeof window === 'undefined') return 'server-session';\n  \n  // Versuche Session-ID aus localStorage zu holen\n  let sessionId = localStorage.getItem('session_id');\n  \n  if (!sessionId) {\n    // Generiere neue Session-ID\n    sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    localStorage.setItem('session_id', sessionId);\n    console.log('[API] Neue Session-ID generiert:', sessionId);\n  }\n  \n  return sessionId;\n}\n\n// Helper: F√ºge Session-ID zu Headers hinzu\nfunction getHeaders(): HeadersInit {\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n  };\n  \n  const sessionId = getOrCreateSessionId();\n  if (sessionId) {\n    headers['X-Session-ID'] = sessionId;\n  }\n  \n  return headers;\n}\n\nexport async function fetchProducts(shopId?: number) {\n  // Wenn shopId √ºbergeben wird, nutze es (Backward-Compatibility)\n  // Sonst nutze Shop-Context vom Backend\n  const url = shopId \n    ? `${API_URL}/products/?shop_id=${shopId}`\n    : `${API_URL}/products/`;\n  const response = await fetch(url, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Produkte');\n  }\n  return response.json();\n}\n\nexport async function syncProducts(shopId: number) {\n  const response = await fetch(`${API_URL}/products/sync/${shopId}`, {\n    method: 'POST',\n  });\n  return response.json();\n}\n\nexport async function getRecommendations(productId: number) {\n  const response = await fetch(`${API_URL}/recommendations/product/${productId}`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Empfehlungen');\n  }\n  const data = await response.json();\n  // ‚úÖ Return komplettes Response-Object (alle Fields!)\n  return data;\n}\n\n/**\n * ‚úÖ NEW: Accept Recommendation\n * \n * Marks a recommendation as \"accepted\"\n * Backend Endpoint: PATCH /recommendations/{id}/accept\n */\nexport async function acceptRecommendation(recommendationId: number) {\n  const response = await fetch(`${API_URL}/recommendations/${recommendationId}/accept`, {\n    method: 'PATCH',\n    headers: getHeaders(),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Akzeptieren der Empfehlung');\n  }\n  return response.json();\n}\n\n/**\n * ‚úÖ NEW: Reject Recommendation\n * \n * Marks a recommendation as \"rejected\"\n * Backend Endpoint: PATCH /recommendations/{id}/reject\n */\nexport async function rejectRecommendation(recommendationId: number, reason?: string) {\n  const response = await fetch(`${API_URL}/recommendations/${recommendationId}/reject`, {\n    method: 'PATCH',\n    headers: getHeaders(),\n    body: JSON.stringify({ reason }),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Ablehnen der Empfehlung');\n  }\n  return response.json();\n}\n\n/**\n * ‚úÖ NEW: Get Recommendation by ID\n * \n * Fetches a single recommendation with all details\n * Backend Endpoint: GET /recommendations/{id}\n */\nexport async function getRecommendation(recommendationId: number) {\n  const response = await fetch(`${API_URL}/recommendations/${recommendationId}`, {\n    headers: getHeaders(),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Empfehlung');\n  }\n  const data = await response.json();\n  // ‚úÖ Return komplettes Recommendation-Object\n  return data;\n}\n\n/**\n * ‚ö†Ô∏è DEPRECATED: Use generateRecommendation() instead\n * \n * This function now ALWAYS generates fresh recommendations.\n * Never uses cached/stale data from database.\n * \n * For pricing decisions, you ALWAYS want the latest:\n * - Current competitor prices\n * - Real-time inventory\n * - Recent sales trends\n * - Current market conditions\n */\nexport async function getLatestRecommendation(productId: number) {\n  // ALWAYS generate fresh - never use cached!\n  // This ensures recommendations reflect CURRENT market data\n  return generateRecommendation(productId);\n}\n\n/**\n * ‚úÖ PRIMARY ENDPOINT for recommendations\n * \n * Generates FRESH recommendation using:\n * - Latest CSV/Shopify data\n * - Current competitor prices\n * - Real-time inventory\n * - Recent sales trends (90 days)\n * \n * Always call this for live pricing decisions.\n * Never uses cached/stale recommendations.\n * \n * Performance: ~1-2 seconds (acceptable for pricing use case)\n * \n * Returns: Complete Recommendation object with ALL Backend-Fields\n */\nexport async function generateRecommendation(productId: number) {\n  const response = await fetch(`${API_URL}/recommendations/generate/${productId}`, {\n    method: 'POST',\n    headers: getHeaders(),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Generieren der Empfehlung');\n  }\n  const data = await response.json();\n  // ‚úÖ Return komplettes Recommendation-Object (alle Fields!)\n  // Enth√§lt jetzt: confidence, strategy, status, reasoning, ml_confidence, etc.\n  // NEW: Enth√§lt auch feature_confidence f√ºr Feature Confidence Breakdown\n  return data;\n}\n\n// Competitor Analysis API (automatische Suche mit Serper)\n// Die alten manuellen Competitor-Tracking-Funktionen wurden entfernt\n// Es wird nur noch die automatische Suche verwendet\n\n// Shop Management API\nexport async function getAvailableShops() {\n  const response = await fetch(`${API_URL}/shops`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Fehler beim Laden der Shops');\n  }\n  return response.json();\n}\n\nexport async function getCurrentShop() {\n  const response = await fetch(`${API_URL}/shops/current`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Fehler beim Laden des aktuellen Shops');\n  }\n  return response.json();\n}\n\nexport async function switchShop(shopId: number, useDemo: boolean) {\n  const response = await fetch(`${API_URL}/shops/switch`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify({ shop_id: shopId, use_demo: useDemo }),\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Fehler beim Wechseln des Shops');\n  }\n  return response.json();\n}\n\n// Competitor Search mit Serper API (automatische Suche)\nexport interface CompetitorPrice {\n  source: string;\n  title: string;\n  price: number;\n  url: string;\n  rating?: number;\n  reviews?: number;\n  scraped_at: string;\n}\n\nexport interface CompetitorSearchResponse {\n  product_id: number;\n  product_title: string;\n  competitors: CompetitorPrice[];\n  summary: {\n    found: number;\n    avg_price: number;\n    min_price: number;\n    max_price: number;\n    your_position: 'cheapest' | 'below_average' | 'average' | 'above_average' | 'most_expensive' | 'unknown';\n  };\n  your_price: number;\n}\n\nexport async function searchCompetitors(\n  productId: number | string,\n  options?: {\n    maxResults?: number;\n    forceRefresh?: boolean;\n  }\n): Promise<CompetitorSearchResponse> {\n  const params = new URLSearchParams();\n  if (options?.maxResults) params.set('max_results', String(options.maxResults));\n  if (options?.forceRefresh) params.set('force_refresh', 'true');\n  \n  const response = await fetch(\n    `${API_URL}/competitors/products/${productId}/competitor-search?${params}`,\n    { \n      method: 'POST',\n      headers: getHeaders(),\n      credentials: 'include'\n    }\n  );\n  \n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Competitor search failed');\n  }\n  return response.json();\n}\n\n// ==========================================\n// MARGIN CALCULATOR API\n// ==========================================\n\nexport interface ProductCostData {\n  purchase_cost: number;\n  shipping_cost: number;\n  packaging_cost: number;\n  payment_provider: string;\n  country_code: string;\n  category?: string;\n}\n\nexport interface MarginCalculationResult {\n  has_cost_data: boolean;\n  selling_price: number;\n  net_revenue: number;\n  costs: {\n    purchase: number;\n    shipping: number;\n    packaging: number;\n    payment_fee: number;\n    total_variable: number;\n  };\n  margin: {\n    euro: number;\n    percent: number;\n  };\n  break_even_price: number;\n  recommended_min_price: number;\n  is_above_break_even: boolean;\n  is_above_min_margin: boolean;\n}\n\nexport interface MarginValidationResult {\n  is_safe: boolean;\n  margin: number | null;\n  warning: string | null;\n  message: string;\n  details?: MarginCalculationResult;\n}\n\nexport interface MarginHealthData {\n  healthy: number;\n  moderate: number;\n  low: number;\n  negative: number;\n  no_costs: number;\n  total_products_with_costs: number;\n  critical_products?: Array<{\n    product_id: string;\n    title: string;\n    current_price: number;\n    margin_percent: number;\n    health_status: string;\n  }>;\n}\n\n// Save product costs\nexport async function saveProductCosts(productId: string, costData: ProductCostData) {\n  const response = await fetch(`${API_URL}/margin/costs`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify({\n      product_id: productId,\n      ...costData\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Speichern der Kosten');\n  }\n  return response.json();\n}\n\n// Get product costs\nexport async function getProductCosts(productId: string): Promise<ProductCostData | null> {\n  const response = await fetch(`${API_URL}/margin/costs/${productId}`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (response.status === 404) {\n    return null;\n  }\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Kosten');\n  }\n  return response.json();\n}\n\n// Update product costs\nexport async function updateProductCosts(productId: string, costData: Partial<ProductCostData>) {\n  const response = await fetch(`${API_URL}/margin/costs/${productId}`, {\n    method: 'PUT',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify(costData)\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Aktualisieren der Kosten');\n  }\n  return response.json();\n}\n\n// Calculate margin\nexport async function calculateMargin(productId: string, sellingPrice: number): Promise<MarginCalculationResult> {\n  const response = await fetch(`${API_URL}/margin/calculate/${productId}`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify({\n      selling_price: sellingPrice,\n      save_to_history: true,\n      triggered_by: 'manual'\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Berechnen der Marge');\n  }\n  return response.json();\n}\n\n// Validate price recommendation\nexport async function validatePriceRecommendation(productId: string, recommendedPrice: number): Promise<MarginValidationResult> {\n  const response = await fetch(`${API_URL}/margin/validate`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify({\n      product_id: productId,\n      recommended_price: recommendedPrice\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler bei der Preisvalidierung');\n  }\n  return response.json();\n}\n\n// Get margin health overview\nexport async function getMarginHealthOverview(): Promise<MarginHealthData> {\n  const response = await fetch(`${API_URL}/margin/dashboard/health`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Margin-√úbersicht');\n  }\n  return response.json();\n}\n\n// Get category defaults\nexport async function getCategoryDefaults(category: string) {\n  const response = await fetch(`${API_URL}/margin/category-defaults/${category}`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Category-Defaults');\n  }\n  return response.json();\n}\n\n// Estimate costs from price\nexport async function estimateCostsFromPrice(sellingPrice: number, category: string, countryCode: string = 'DE') {\n  const response = await fetch(`${API_URL}/margin/estimate-costs?selling_price=${sellingPrice}&category=${category}&country_code=${countryCode}`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Sch√§tzen der Kosten');\n  }\n  return response.json();\n}\n\n// Check if product has cost data\nexport async function hasCostData(productId: string): Promise<boolean> {\n  const response = await fetch(`${API_URL}/margin/has-costs/${productId}`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    return false;\n  }\n  const data = await response.json();\n  return data.has_cost_data || false;\n}\n\n","import { defineRouting } from 'next-intl/routing';\n\nexport const routing = defineRouting({\n  locales: ['de', 'en'],\n  defaultLocale: 'de',\n  localePrefix: 'as-needed' // Deutsch ohne /de/ Prefix, nur /en/ in URL\n});\n\n\n\n\n","import { createNavigation } from 'next-intl/navigation';\nimport { routing } from './i18n/routing';\n\nexport const { Link, redirect, usePathname, useRouter } =\n  createNavigation(routing);\n\n","var _sentryCollisionFreeGlobalObject = typeof window != \"undefined\" ? window : typeof global != \"undefined\" ? global : typeof self != \"undefined\" ? self : {};\n_sentryCollisionFreeGlobalObject[\"__sentryRewritesTunnelPath__\"] = undefined;\n_sentryCollisionFreeGlobalObject[\"SENTRY_RELEASE\"] = {\"id\":\"DMrrq0V0uCGnQK9VhCnx5\"};\n_sentryCollisionFreeGlobalObject[\"__sentryBasePath\"] = undefined;\n_sentryCollisionFreeGlobalObject[\"__rewriteFramesDistDir__\"] = \".next\";\n\nimport * as Sentry from \"@sentry/nextjs\";\r\n\r\nSentry.init({\r\n  dsn: process.env.SENTRY_DSN, // Server-side DSN\r\n  environment: process.env.ENVIRONMENT || \"production\",\r\n  release: process.env.GIT_COMMIT_HASH || \"unknown\",\r\n  tracesSampleRate: 0.1,\r\n  \r\n  integrations: [\r\n    new Sentry.Integrations.Http({ tracing: true }),\r\n  ],\r\n  \r\n  // Ignore specific errors\r\n  ignoreErrors: [\r\n    \"Non-Error promise rejection captured\",\r\n  ],\r\n  \r\n  // Before Send Hook\r\n  beforeSend(event, hint) {\r\n    // Filter sensitive data\r\n    const request = event.request;\r\n    if (request && request.headers) {\r\n      const headers = request.headers;\r\n      const sensitiveHeaders = ['authorization', 'x-api-key', 'cookie'];\r\n      sensitiveHeaders.forEach(header => {\r\n        const headerLower = header.toLowerCase();\r\n        Object.keys(headers).forEach(key => {\r\n          if (key.toLowerCase() === headerLower) {\r\n            headers[key] = '[Filtered]';\r\n          }\r\n        });\r\n      });\r\n    }\r\n    return event;\r\n  },\r\n});\r\n","import { getRequestConfig } from 'next-intl/server';\nimport { routing } from './i18n/routing';\n\nexport default getRequestConfig(async ({ requestLocale }) => {\n  // Use requestLocale if available, otherwise fallback to defaultLocale\n  const locale = await requestLocale || routing.defaultLocale;\n  \n  return {\n    locale,\n    messages: (await import(`./messages/${locale}.json`)).default\n  };\n});\n\n"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","code","ids","id","t","keys","Object","module","exports","wrappedServerComponent","locales","generateStaticParams","locale","LocaleLayout","children","params","resolvedParams","includes","notFound","messages","getMessages","_jsx","ErrorBoundaryWrapper","NextIntlClientProvider","main","style","backgroundColor","Proxy","serverComponentModule.default","apply","originalFunction","thisArg","args","sentryTraceHeader","baggageHeader","headers","requestAsyncStore","request_async_storage_external_js_","requestAsyncStorage","getStore","_nullishCoalesce","h","_optionalChain","x","_","_2","get","_3","undefined","_4","_5","_6","_7","nextjs_","wrapServerComponentWithSentry","componentRoute","componentType","generateMetadata","generateImageMetadata","generateViewport","wrappedServerComponent$1","metadata","title","description","html","className","_jsxs","body","Toaster","position","richColors","next_dist_client_components_request_async_storage_external_js__WEBPACK_IMPORTED_MODULE_2__","_sentry_utils__WEBPACK_IMPORTED_MODULE_5__","_sentry_utils__WEBPACK_IMPORTED_MODULE_6__","_sentry_nextjs__WEBPACK_IMPORTED_MODULE_1__","bind","ErrorBoundary","Component","constructor","props","state","hasError","error","getDerivedStateFromError","componentDidCatch","errorInfo","Sentry","contexts","react","componentStack","render","fallback","react_jsx_runtime","jsx","div","jsxs","h2","p","message","button","onClick","setState","window","location","reload","ShopSwitcher","shops","currentShop","isDemoMode","loading","switchToShop","refresh","useShop","shopDomain","setShopDomain","useState","handleSwitch","shop","useDemo","console","log","err","handleConnectShopify","raw","trim","alert","API_URL","encodeURIComponent","handleLiveMode","realLiveShops","filter","s","type","name","length","demoShop","handleDemoMode","find","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","liveShops","demoShops","warn","demoInLiveShops","shopsCount","demoShopsCount","liveShopsCount","borderTop","border","color","disabled","borderColor","span","product_count","is_active","Store","shop_url","Check","h3","input","placeholder","value","onChange","target","onKeyDown","key","a","href","rel","setCurrentShop","setIsDemoMode","setShops","setLoading","setError","loadShops","preserveDemoMode","data","getAvailableShops","shopsArray","uniqueShops","reduce","acc","some","push","is_demo_mode","activeShopId","active_shop_id","isDemo","activeShop","shopId","result","switchShop","newShop","active_shop","dispatchEvent","CustomEvent","detail","mode","refreshShopsOnly","useEffect","handleShopSwitch","event","addEventListener","removeEventListener","process","getDashboardStats","response","fetch","getHeaders","ok","json","sessionId","fetchProducts","url","syncProducts","method","generateRecommendation","productId","errorData","getCurrentShop","JSON","stringify","shop_id","use_demo","searchCompetitors","options","URLSearchParams","maxResults","set","String","forceRefresh","credentials","saveProductCosts","costData","product_id","getProductCosts","status","updateProductCosts","calculateMargin","sellingPrice","selling_price","save_to_history","triggered_by","getCategoryDefaults","category","estimateCostsFromPrice","countryCode","routing","defineRouting","defaultLocale","localePrefix","Link","redirect","usePathname","useRouter","createNavigation","_sentryCollisionFreeGlobalObject","global","self","dsn","env","SENTRY_DSN","environment","ENVIRONMENT","release","GIT_COMMIT_HASH","tracesSampleRate","integrations","Http","tracing","ignoreErrors","beforeSend","hint","request","sensitiveHeaders","forEach","header","headerLower","toLowerCase","i18n","getRequestConfig","requestLocale","default"],"sourceRoot":""}