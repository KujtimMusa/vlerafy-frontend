{"version":3,"file":"static/chunks/75-c24251d920031903.js","mappings":"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","sources":["webpack://_N_E/./components/ShopSwitcher.tsx","webpack://_N_E/./hooks/useShop.ts","webpack://_N_E/./lib/api.ts","webpack://_N_E/./i18n/routing.ts","webpack://_N_E/./navigation.ts","webpack://_N_E/<anon>"],"sourcesContent":["/**\n * Shop-Switcher Component\n * Erm√∂glicht Wechsel zwischen Demo-Shop und echten Shopify-Shops\n */\n'use client';\n\nimport React, { useState } from 'react';\nimport { useShop, Shop } from '@/hooks/useShop';\nimport { API_URL } from '@/lib/api';\nimport { Store, Check } from 'lucide-react';\n\ninterface ShopSwitcherProps {\n  className?: string;\n}\n\nexport function ShopSwitcher({ className = '' }: ShopSwitcherProps) {\n  const { shops, currentShop, isDemoMode, loading, error, switchToShop, refresh } = useShop();\n  const [shopDomain, setShopDomain] = useState('');\n\n  const handleSwitch = async (shop: Shop | null, useDemo: boolean) => {\n    if (!shop && !useDemo) {\n      // Live Mode ohne Shop - nur isDemoMode auf false setzen\n      // Das wird durch die Buttons gehandhabt\n      return;\n    }\n    \n    if (!shop) return;\n    \n    try {\n      console.log(`[ShopSwitcher] Switching to shop ${shop.id}, demo: ${useDemo}`);\n      await switchToShop(shop.id, useDemo);\n      console.log('[ShopSwitcher] Shop switched successfully');\n    } catch (err) {\n      console.error('[ShopSwitcher] Failed to switch shop:', err);\n    }\n  };\n\n  const handleConnectShopify = () => {\n    const raw = shopDomain.trim();\n    if (!raw) {\n      alert('Bitte gib deine Shopify-Domain ein, z.B. dein-shop.myshopify.com');\n      return;\n    }\n    if (!raw.includes('.')) {\n      alert('Bitte gib eine vollst√§ndige Domain ein, z.B. dein-shop.myshopify.com');\n      return;\n    }\n\n    const url = `${API_URL}/auth/shopify/install?shop=${encodeURIComponent(raw)}`;\n    if (typeof window !== 'undefined') {\n      window.open(url, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  const handleLiveMode = async () => {\n    console.log('[ShopSwitcher] üîò Live Button clicked');\n    \n    // FIX: Filter Demo Shop nochmal explizit raus\n    const realLiveShops = shops.filter(s => \n      s.id !== 999 && // Demo Shop ID explizit ausschlie√üen\n      s.type === 'shopify' // Nur Shopify Shops\n    );\n    \n    console.log('[ShopSwitcher] realLiveShops (filtered):', realLiveShops.map(s => ({ id: s.id, name: s.name, type: s.type })));\n    \n    if (realLiveShops.length > 0) {\n      console.log('[ShopSwitcher] ‚Üí Switching to real shop:', realLiveShops[0].name);\n      await handleSwitch(realLiveShops[0], false);\n    } else {\n      console.log('[ShopSwitcher] ‚Üí No real shops, showing connect card');\n      // WICHTIG: Zeige Connect Card\n      // isDemoMode muss false bleiben aber keine Shop-Karte\n      if (demoShop) {\n        try {\n          console.log('[ShopSwitcher] Switching to Live Mode (no shop installed)');\n          await switchToShop(demoShop.id, false); // Backend erkennt dass Shop nicht existiert\n        } catch (err) {\n          console.error('[ShopSwitcher] Error switching to Live Mode:', err);\n          // Falls das fehlschl√§gt, lade Shops neu\n          await refresh();\n        }\n      }\n    }\n  };\n\n  const handleDemoMode = async () => {\n    const demoShop = shops.find(s => s.type === 'demo');\n    if (demoShop) {\n      await handleSwitch(demoShop, true);\n    }\n  };\n\n  if (loading && shops.length === 0) {\n    return (\n      <div className={`shop-switcher ${className}`}>\n        <div className=\"p-4 text-center text-gray-500\">Lade Shops...</div>\n        {error && (\n          <div className=\"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-600\">\n            {error}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (error && shops.length === 0) {\n    return (\n      <div className={`shop-switcher ${className}`}>\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-sm text-red-600 font-medium mb-2\">Fehler beim Laden der Shops</p>\n          <p className=\"text-xs text-red-500\">{error}</p>\n          <button\n            onClick={() => refresh()}\n            className=\"mt-2 px-3 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200\"\n          >\n            Erneut versuchen\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const demoShop = shops.find(s => s.type === 'demo' || s.id === 999);\n  \n  // FIX: Filter echte Live Shops - Demo Shop (ID 999) explizit ausschlie√üen\n  const liveShops = shops.filter(s => \n    s.type === 'shopify' && \n    s.id !== 999 // Demo Shop ID explizit ausschlie√üen\n  );\n  \n  // FIX: Filter echte Live Shops f√ºr Rendering (ohne Demo Shop!)\n  const realLiveShops = liveShops.filter(s =>\n    s.id !== 999 &&\n    s.type === 'shopify'\n  );\n  \n  // DEBUG: Pr√ºfe auf doppelte Demo Shops\n  const demoShops = shops.filter(s => s.type === 'demo' || s.id === 999);\n  if (demoShops.length > 1) {\n    console.warn('[ShopSwitcher] ‚ö†Ô∏è MEHRERE DEMO SHOPS GEFUNDEN:', demoShops.map(s => ({ id: s.id, name: s.name, type: s.type })));\n  }\n  \n  // DEBUG: Pr√ºfe ob Demo Shop f√§lschlicherweise in liveShops ist\n  const demoInLiveShops = liveShops.find(s => s.id === 999 || s.type === 'demo');\n  if (demoInLiveShops) {\n    console.error('[ShopSwitcher] ‚ùå BUG: Demo Shop in liveShops gefunden!', demoInLiveShops);\n  }\n  \n  console.log('[ShopSwitcher] Render:', {\n    shopsCount: shops.length,\n    shops: shops.map(s => ({ id: s.id, name: s.name, type: s.type })),\n    demoShop: demoShop ? { id: demoShop.id, name: demoShop.name, type: demoShop.type } : null,\n    demoShopsCount: demoShops.length,\n    liveShopsCount: liveShops.length,\n    liveShops: liveShops.map(s => ({ id: s.id, name: s.name, type: s.type })),\n    currentShop: currentShop ? { id: currentShop.id, name: currentShop.name, type: currentShop.type } : null,\n    isDemoMode,\n    demoInLiveShops: demoInLiveShops ? 'BUG!' : 'OK'\n  });\n\n  return (\n    <div className={`shop-switcher ${className} relative`} style={{ borderTop: 'none', border: 'none' }}>\n      {/* Header mit Buttons */}\n      <div className=\"mb-4\">\n        <div className=\"text-sm font-medium mb-2\" style={{ color: '#cbd5e1' }}>\n          Aktiver Shop\n        </div>\n        \n        {/* Live/Demo Toggle Buttons */}\n        <div className=\"flex gap-2 p-1 bg-slate-800 border border-gray-700 rounded-lg\">\n          {/* Live Button */}\n          <button\n            onClick={handleLiveMode}\n            disabled={loading}\n            className={`flex-1 px-4 py-2 font-medium transition-all rounded ${\n              loading ? 'opacity-50 cursor-not-allowed' : ''\n            } ${\n              !isDemoMode \n                ? 'bg-slate-700 text-blue-400' \n                : 'text-gray-400 hover:text-gray-200'\n            }`}\n          >\n            Live\n          </button>\n          \n          {/* Demo Button */}\n          <button\n            onClick={handleDemoMode}\n            disabled={loading || !demoShop}\n            className={`flex-1 px-4 py-2 font-medium transition-all rounded ${\n              loading || !demoShop ? 'opacity-50 cursor-not-allowed' : ''\n            } ${\n              isDemoMode \n                ? 'bg-slate-700 text-blue-400' \n                : 'text-gray-400 hover:text-gray-200'\n            }`}\n          >\n            Demo\n          </button>\n        </div>\n      </div>\n\n      {/* Shop Cards - Conditional Rendering */}\n      {isDemoMode ? (\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        // DEMO MODE\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        demoShop && (\n          <div className=\"space-y-2\">\n            {/* Demo Banner */}\n            <div className=\"border p-3\" style={{ backgroundColor: '#1e293b', borderColor: '#475569' }}>\n              <div className=\"flex items-start gap-2\">\n                <span className=\"text-lg\">üß™</span>\n                <div>\n                  <div className=\"font-semibold text-sm\" style={{ color: '#f1f5f9' }}>\n                    Demo-Modus Aktiv\n                  </div>\n                  <p className=\"text-xs mt-1\" style={{ color: '#cbd5e1' }}>\n                    Du testest mit 20 synthetischen Produkten. Wechsle zu Live um echte Shopify-Daten zu nutzen.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Demo Shop Card */}\n            <div className=\"border-2 border-green-500 p-4\" style={{ backgroundColor: '#1e293b' }}>\n              <div className=\"flex items-start gap-3\">\n                <div className=\"text-2xl\">üß™</div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"font-semibold\" style={{ color: '#f1f5f9' }}>{demoShop.name}</div>\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"text-green-600 font-medium text-sm\">Aktiv</span>\n                      <span className=\"text-green-600\">‚úì</span>\n                    </div>\n                  </div>\n                  <div className=\"text-sm mt-1\" style={{ color: '#94a3b8' }}>\n                    {demoShop.product_count} Produkte ‚Ä¢ 90 Tage Verlauf\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      ) : (\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        // LIVE MODE\n        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n        <div className=\"space-y-2\">\n          {realLiveShops.length > 0 ? (\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            // FALL 1: Shopify Shop ist installiert\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            realLiveShops.map((shop) => (\n              <div\n                key={shop.id}\n                className={`border-2 p-4 cursor-pointer transition-all ${\n                  shop.is_active \n                    ? 'border-green-500' \n                    : 'border-gray-300'\n                } ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\n                style={{\n                  backgroundColor: shop.is_active ? '#1e293b' : '#1e293b',\n                }}\n                onClick={async () => {\n                  if (loading) return;\n                  await handleSwitch(shop, false);\n                }}\n              >\n                <div className=\"flex items-center gap-3\">\n                  {/* Shop Icon */}\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center\">\n                      <Store className=\"w-5 h-5 text-white\" />\n                    </div>\n                  </div>\n                  \n                  {/* Shop Info */}\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2\">\n                      <p className=\"text-sm font-semibold text-slate-100 truncate\">\n                        {shop.name || 'Shopify Shop'}\n                      </p>\n                      {shop.is_active && (\n                        <span className=\"px-2 py-0.5 rounded-md bg-green-500/10 border border-green-500/20 flex-shrink-0\">\n                          <span className=\"text-xs font-medium text-green-400\">Aktiv</span>\n                        </span>\n                      )}\n                    </div>\n                    {shop.shop_url && (\n                      <p className=\"text-xs text-slate-400 truncate mt-0.5\">\n                        {shop.shop_url}\n                      </p>\n                    )}\n                    <p className=\"text-xs text-slate-500 mt-1\">\n                      {shop.product_count || 0} Produkte ‚Ä¢ Verbunden via Shopify\n                    </p>\n                  </div>\n                  \n                  {/* Status Check */}\n                  {shop.is_active && (\n                    <div className=\"flex-shrink-0\">\n                      <Check className=\"w-4 h-4 text-green-400\" />\n                    </div>\n                  )}\n                </div>\n              </div>\n              ))\n            ) : (\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            // FALL 2: Kein Shop installiert\n            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n            <div className=\"border-2 border-gray-300 border-dashed p-6\" style={{ backgroundColor: '#1e293b' }}>\n              <div className=\"text-center\">\n                <div className=\"text-5xl mb-4\">üè™</div>\n                \n                <h3 className=\"text-lg font-semibold mb-2\" style={{ color: '#f1f5f9' }}>\n                  Shopify Shop verbinden\n                </h3>\n                \n                <p className=\"text-sm mb-6\" style={{ color: '#94a3b8' }}>\n                  Installiere PriceIQ in deinem Shopify Store um automatisch Preis-Optimierungen zu erhalten.\n                </p>\n                \n                {/* Install Method 1: Direkt Domain eingeben */}\n                <div className=\"max-w-sm mx-auto space-y-3 mb-4\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"dein-shop.myshopify.com\"\n                    value={shopDomain}\n                    onChange={(e) => setShopDomain(e.target.value)}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter') {\n                        handleConnectShopify();\n                      }\n                    }}\n                  />\n                  <button\n                    onClick={handleConnectShopify}\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\n                  >\n                    Shop verbinden\n                  </button>\n                </div>\n                \n                {/* Install Method 2: Shopify App Store Link */}\n                <div className=\"text-sm\" style={{ color: '#94a3b8' }}>\n                  Oder installiere PriceIQ direkt aus dem{' '}\n                  <a \n                    href=\"https://apps.shopify.com\" \n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-blue-600 hover:underline font-medium\"\n                  >\n                    Shopify App Store\n                  </a>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Loading Overlay */}\n      {loading && (\n        <div className=\"absolute inset-0 bg-white bg-opacity-50 flex items-center justify-center rounded-lg\">\n          <div className=\"text-sm text-gray-600\">Wechselt...</div>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * React Hook f√ºr Shop-Context\n * Verwaltet aktiven Shop und Demo-Mode\n */\nimport { useEffect, useState } from 'react';\nimport { getCurrentShop, getAvailableShops, switchShop } from '@/lib/api';\n\nexport interface Shop {\n  id: number;\n  name: string;\n  type: 'shopify' | 'demo';\n  shop_url: string | null;\n  product_count: number;\n  is_active: boolean;\n}\n\nexport interface ShopContext {\n  currentShop: Shop | null;\n  isDemoMode: boolean;\n  shops: Shop[];\n  loading: boolean;\n  error: string | null;\n  refresh: () => Promise<void>;\n  switchToShop: (shopId: number, useDemo: boolean) => Promise<void>;\n}\n\nexport function useShop(): ShopContext {\n  const [currentShop, setCurrentShop] = useState<Shop | null>(null);\n  const [isDemoMode, setIsDemoMode] = useState(false);\n  const [shops, setShops] = useState<Shop[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const loadCurrentShop = async () => {\n    try {\n      setError(null);\n      const data = await getCurrentShop();\n      console.log('[useShop] getCurrentShop response:', data);\n      setCurrentShop(data.shop);\n      setIsDemoMode(data.is_demo_mode || false);\n      console.log('[useShop] Current shop updated:', data.shop?.name, 'isDemoMode:', data.is_demo_mode);\n    } catch (err: any) {\n      setError(err.message || 'Fehler beim Laden des Shops');\n      console.error('[useShop] Error loading current shop:', err);\n    }\n  };\n\n  const loadShops = async (preserveDemoMode: boolean = false) => {\n    try {\n      setError(null);\n      const data = await getAvailableShops();\n      console.log('[useShop] getAvailableShops response:', data);\n      \n      // DEBUG: Pr√ºfe auf doppelte Shops\n      const shopsArray = data.shops || [];\n      const demoShops = shopsArray.filter((s: Shop) => s.type === 'demo');\n      if (demoShops.length > 1) {\n        console.warn('[useShop] ‚ö†Ô∏è BACKEND GIBT MEHRERE DEMO SHOPS ZUR√úCK:', demoShops.map((s: Shop) => ({ id: s.id, name: s.name })));\n      }\n      \n      // Entferne doppelte Demo Shops (behalte nur den ersten)\n      const uniqueShops = shopsArray.reduce((acc: Shop[], shop: Shop) => {\n        if (shop.type === 'demo') {\n          // Pr√ºfe ob bereits ein Demo Shop im Array ist\n          const hasDemo = acc.some(s => s.type === 'demo');\n          if (!hasDemo) {\n            acc.push(shop);\n          } else {\n            console.warn('[useShop] ‚ö†Ô∏è Doppelten Demo Shop entfernt:', shop.name);\n          }\n        } else {\n          acc.push(shop);\n        }\n        return acc;\n      }, []);\n      \n      setShops(uniqueShops);\n      \n      // WICHTIG: Nur isDemoMode setzen, wenn preserveDemoMode false ist\n      if (!preserveDemoMode) {\n        setIsDemoMode(data.is_demo_mode || false);\n      }\n      \n      // Finde aktiven Shop basierend auf active_shop_id und is_demo_mode\n      const activeShopId = data.active_shop_id;\n      const isDemo = preserveDemoMode ? isDemoMode : (data.is_demo_mode || false);\n      \n      let activeShop = null;\n      if (isDemo) {\n        activeShop = data.shops?.find((s: Shop) => s.type === 'demo') || null;\n      } else {\n        // F√ºr Live-Shop: Suche nach active_shop_id (ignoriere is_active Flag)\n        // WICHTIG: Demo Shop (ID 999) explizit ausschlie√üen!\n        activeShop = data.shops?.find((s: Shop) => \n          s.id === activeShopId && \n          s.type === 'shopify' && \n          s.id !== 999  // Demo Shop explizit ausschlie√üen\n        ) || null;\n        // Fallback: Erster Live-Shop (ohne Demo Shop)\n        if (!activeShop && data.shops) {\n          activeShop = data.shops.find((s: Shop) => \n            s.type === 'shopify' && \n            s.id !== 999  // Demo Shop explizit ausschlie√üen\n          ) || null;\n        }\n      }\n      \n      // Fallback: Nutze is_active Flag\n      if (!activeShop && data.shops) {\n        activeShop = data.shops.find((s: Shop) => s.is_active) || null;\n      }\n      \n      // Fallback: Erster Shop in Liste\n      if (!activeShop && data.shops && data.shops.length > 0) {\n        activeShop = data.shops[0];\n        console.warn('[useShop] Using first shop as fallback:', activeShop.name);\n      }\n      \n      setCurrentShop(activeShop);\n      console.log('[useShop] Active shop set to:', activeShop?.name || 'null', 'isDemoMode:', isDemo);\n      \n      // WICHTIG: Setze loading auf false nach erfolgreichem Laden\n      setLoading(false);\n      \n    } catch (err: any) {\n      const errorMsg = err.message || 'Fehler beim Laden der Shops';\n      setError(errorMsg);\n      console.error('Error loading shops:', err);\n      // Setze Demo-Shop als Fallback\n      if (shops.length === 0) {\n        setShops([{\n          id: 999,\n          name: 'Demo Shop',\n          type: 'demo' as const,\n          shop_url: null,\n          product_count: 20,\n          is_active: true\n        }]);\n        setCurrentShop({\n          id: 999,\n          name: 'Demo Shop',\n          type: 'demo' as const,\n          shop_url: null,\n          product_count: 20,\n          is_active: true\n        });\n        setIsDemoMode(true);\n      }\n      // WICHTIG: Setze loading auf false auch bei Fehler\n      setLoading(false);\n    }\n  };\n\n  const refresh = async (preserveDemoMode: boolean = false) => {\n    try {\n      // Lade zuerst Shops (enth√§lt active_shop_id und is_demo_mode)\n      // preserveDemoMode=true verhindert, dass isDemoMode √ºberschrieben wird\n      await loadShops(preserveDemoMode);\n      console.log('[useShop] Refresh completed');\n    } catch (err) {\n      console.error('[useShop] Error during refresh:', err);\n      // Sicherstellen, dass loading auf false gesetzt wird\n      setLoading(false);\n    }\n  };\n\n  const switchToShop = async (shopId: number, useDemo: boolean) => {\n    try {\n      console.log(`[useShop] Switching to shop ${shopId}, demo: ${useDemo}`);\n      setLoading(true);\n      setError(null);\n\n      const result = await switchShop(shopId, useDemo);\n      console.log('[useShop] Switch API response:', result);\n\n      // ===== KRITISCH: Setze State SOFORT und NICHT √ºber refresh() =====\n      \n      // Optimistic Update\n      setIsDemoMode(useDemo);\n      \n      // Finde den neuen Shop in der Liste oder erstelle ihn\n      let newShop = shops.find((s: Shop) => s.id === shopId);\n      \n      // Falls Shop nicht in Liste, nutze API-Response oder erstelle Shop-Objekt\n      if (!newShop) {\n        if (result.active_shop) {\n          newShop = {\n            id: result.active_shop.id,\n            name: result.active_shop.name,\n            type: result.active_shop.type as 'shopify' | 'demo',\n            shop_url: null,\n            product_count: 0,  // Wird beim Refresh aktualisiert\n            is_active: true\n          };\n        } else if (useDemo) {\n          // Demo Shop Fallback\n          newShop = {\n            id: 999,\n            name: 'Demo Shop',\n            type: 'demo' as const,\n            shop_url: null,\n            product_count: 0,\n            is_active: true\n          };\n        }\n      }\n      \n      if (newShop) {\n        setCurrentShop(newShop);\n        console.log(\n          `[useShop] Optimistic update: currentShop = ${newShop.name} ` +\n          `isDemoMode = ${useDemo}`\n        );\n      }\n      \n      // Save to localStorage\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('current_shop_id', shopId.toString());\n        localStorage.setItem('shop_mode', useDemo ? 'demo' : 'live');\n      }\n\n      // Dispatch event f√ºr andere Komponenten\n      window.dispatchEvent(new CustomEvent('shop-switched', {\n        detail: {\n          shopId,\n          useDemo,\n          mode: useDemo ? 'demo' : 'live'\n        }\n      }));\n      console.log('[useShop] shop-switched event dispatched');\n\n      // ===== WICHTIG: Refresh OHNE Shop-Wechsel =====\n      // Refresh l√§dt nur Shops-Liste neu, √§ndert aber NICHT currentShop!\n      await refreshShopsOnly();\n      \n      console.log('[useShop] Data refreshed after switch');\n\n    } catch (err: any) {\n      console.error('[useShop] Switch failed:', err);\n      setError(err.message || 'Fehler beim Wechseln des Shops');\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Neue Funktion: Refresh ohne Shop-Wechsel\n  const refreshShopsOnly = async () => {\n    try {\n      const data = await getAvailableShops();\n      console.log('[useShop] getAvailableShops response:', data);\n\n      // NUR shops updaten, currentShop NICHT √§ndern!\n      setShops(data.shops || []);\n      \n      console.log('[useShop] Shops list refreshed (without changing currentShop)');\n\n    } catch (err: any) {\n      console.error('[useShop] Refresh failed:', err);\n    }\n  };\n\n  useEffect(() => {\n    // Pr√ºfe localStorage f√ºr shop_id beim Mount\n    if (typeof window !== 'undefined') {\n      const storedShopId = localStorage.getItem('current_shop_id');\n      const storedMode = localStorage.getItem('shop_mode');\n      \n      if (storedShopId) {\n        console.log('[useShop] Found shop_id in localStorage:', storedShopId);\n        const shopIdNum = parseInt(storedShopId);\n        const useDemo = storedMode === 'demo';\n        \n        // Wenn shop_id vorhanden, switch zu diesem Shop\n        if (!isNaN(shopIdNum)) {\n          console.log('[useShop] Auto-switching to shop from localStorage:', shopIdNum, 'demo:', useDemo);\n          switchToShop(shopIdNum, useDemo).catch((err) => {\n            console.error('[useShop] Error auto-switching shop:', err);\n            // Bei Fehler: Normal refresh\n            refresh();\n          });\n          return;\n        }\n      }\n    }\n    \n    // Load on mount (wenn keine shop_id in localStorage)\n    refresh();\n\n    // Listen for shop switch events\n    const handleShopSwitch = (event: CustomEvent) => {\n      console.log('[useShop] shop-switched event received:', event.detail);\n      // Wenn shop_id im Event, speichere es\n      if (event.detail?.shopId && typeof window !== 'undefined') {\n        localStorage.setItem('current_shop_id', event.detail.shopId.toString());\n        const mode = event.detail.mode || (event.detail.useDemo ? 'demo' : 'live');\n        localStorage.setItem('shop_mode', mode);\n        \n        // WICHTIG: Setze State SOFORT, ohne auf refresh() zu warten\n        const useDemo = mode === 'demo';\n        setIsDemoMode(useDemo);\n        \n        // Finde Shop in aktueller Liste\n        const switchedShop = shops.find((s: Shop) => s.id === event.detail.shopId);\n        if (switchedShop) {\n          setCurrentShop(switchedShop);\n          console.log('[useShop] Shop updated from event:', switchedShop.name, 'demo:', useDemo);\n        }\n      }\n      \n      // Refresh mit preserveDemoMode=true, damit isDemoMode nicht √ºberschrieben wird\n      refresh(true).then(() => {\n        // Stelle sicher, dass isDemoMode korrekt bleibt\n        if (event.detail?.useDemo !== undefined) {\n          setIsDemoMode(event.detail.useDemo);\n        }\n      });\n    };\n\n    window.addEventListener('shop-switched', handleShopSwitch as EventListener);\n    return () => window.removeEventListener('shop-switched', handleShopSwitch as EventListener);\n  }, []);\n\n  return {\n    currentShop,\n    isDemoMode,\n    shops,\n    loading,\n    error,\n    refresh,\n    switchToShop\n  };\n}\n\n","export const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\n/**\n * Dashboard Stats API\n * L√§dt Missed Revenue und Trust Ladder Daten\n */\nexport async function getDashboardStats() {\n  const response = await fetch(`${API_URL}/api/dashboard/stats`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Dashboard-Daten');\n  }\n  return response.json();\n}\n\n// Session-ID Management\nfunction getOrCreateSessionId(): string {\n  if (typeof window === 'undefined') return 'server-session';\n  \n  // Versuche Session-ID aus localStorage zu holen\n  let sessionId = localStorage.getItem('session_id');\n  \n  if (!sessionId) {\n    // Generiere neue Session-ID\n    sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    localStorage.setItem('session_id', sessionId);\n    console.log('[API] Neue Session-ID generiert:', sessionId);\n  }\n  \n  return sessionId;\n}\n\n// Helper: F√ºge Session-ID zu Headers hinzu\nfunction getHeaders(): HeadersInit {\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n  };\n  \n  const sessionId = getOrCreateSessionId();\n  if (sessionId) {\n    headers['X-Session-ID'] = sessionId;\n  }\n  \n  return headers;\n}\n\nexport async function fetchProducts(shopId?: number) {\n  // Wenn shopId √ºbergeben wird, nutze es (Backward-Compatibility)\n  // Sonst nutze Shop-Context vom Backend\n  const url = shopId \n    ? `${API_URL}/products/?shop_id=${shopId}`\n    : `${API_URL}/products/`;\n  const response = await fetch(url, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Produkte');\n  }\n  return response.json();\n}\n\nexport async function syncProducts(shopId: number) {\n  const response = await fetch(`${API_URL}/products/sync/${shopId}`, {\n    method: 'POST',\n  });\n  return response.json();\n}\n\nexport async function getRecommendations(productId: number) {\n  const response = await fetch(`${API_URL}/recommendations/product/${productId}`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Empfehlungen');\n  }\n  const data = await response.json();\n  // ‚úÖ Return komplettes Response-Object (alle Fields!)\n  return data;\n}\n\n/**\n * ‚úÖ NEW: Accept Recommendation\n * \n * Marks a recommendation as \"accepted\"\n * Backend Endpoint: PATCH /recommendations/{id}/accept\n */\nexport async function acceptRecommendation(recommendationId: number) {\n  const response = await fetch(`${API_URL}/recommendations/${recommendationId}/accept`, {\n    method: 'PATCH',\n    headers: getHeaders(),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Akzeptieren der Empfehlung');\n  }\n  return response.json();\n}\n\n/**\n * ‚úÖ NEW: Reject Recommendation\n * \n * Marks a recommendation as \"rejected\"\n * Backend Endpoint: PATCH /recommendations/{id}/reject\n */\nexport async function rejectRecommendation(recommendationId: number, reason?: string) {\n  const response = await fetch(`${API_URL}/recommendations/${recommendationId}/reject`, {\n    method: 'PATCH',\n    headers: getHeaders(),\n    body: JSON.stringify({ reason }),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Ablehnen der Empfehlung');\n  }\n  return response.json();\n}\n\n/**\n * ‚úÖ NEW: Get Recommendation by ID\n * \n * Fetches a single recommendation with all details\n * Backend Endpoint: GET /recommendations/{id}\n */\nexport async function getRecommendation(recommendationId: number) {\n  const response = await fetch(`${API_URL}/recommendations/${recommendationId}`, {\n    headers: getHeaders(),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Empfehlung');\n  }\n  const data = await response.json();\n  // ‚úÖ Return komplettes Recommendation-Object\n  return data;\n}\n\n/**\n * ‚ö†Ô∏è DEPRECATED: Use generateRecommendation() instead\n * \n * This function now ALWAYS generates fresh recommendations.\n * Never uses cached/stale data from database.\n * \n * For pricing decisions, you ALWAYS want the latest:\n * - Current competitor prices\n * - Real-time inventory\n * - Recent sales trends\n * - Current market conditions\n */\nexport async function getLatestRecommendation(productId: number) {\n  // ALWAYS generate fresh - never use cached!\n  // This ensures recommendations reflect CURRENT market data\n  return generateRecommendation(productId);\n}\n\n/**\n * ‚úÖ PRIMARY ENDPOINT for recommendations\n * \n * Generates FRESH recommendation using:\n * - Latest CSV/Shopify data\n * - Current competitor prices\n * - Real-time inventory\n * - Recent sales trends (90 days)\n * \n * Always call this for live pricing decisions.\n * Never uses cached/stale recommendations.\n * \n * Performance: ~1-2 seconds (acceptable for pricing use case)\n * \n * Returns: Complete Recommendation object with ALL Backend-Fields\n */\nexport async function generateRecommendation(productId: number) {\n  const response = await fetch(`${API_URL}/recommendations/generate/${productId}`, {\n    method: 'POST',\n    headers: getHeaders(),\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Generieren der Empfehlung');\n  }\n  const data = await response.json();\n  // ‚úÖ Return komplettes Recommendation-Object (alle Fields!)\n  // Enth√§lt jetzt: confidence, strategy, status, reasoning, ml_confidence, etc.\n  // NEW: Enth√§lt auch feature_confidence f√ºr Feature Confidence Breakdown\n  return data;\n}\n\n// Competitor Analysis API (automatische Suche mit Serper)\n// Die alten manuellen Competitor-Tracking-Funktionen wurden entfernt\n// Es wird nur noch die automatische Suche verwendet\n\n// Shop Management API\nexport async function getAvailableShops() {\n  const response = await fetch(`${API_URL}/shops`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Fehler beim Laden der Shops');\n  }\n  return response.json();\n}\n\nexport async function getCurrentShop() {\n  const response = await fetch(`${API_URL}/shops/current`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Fehler beim Laden des aktuellen Shops');\n  }\n  return response.json();\n}\n\nexport async function switchShop(shopId: number, useDemo: boolean) {\n  const response = await fetch(`${API_URL}/shops/switch`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify({ shop_id: shopId, use_demo: useDemo }),\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.detail || 'Fehler beim Wechseln des Shops');\n  }\n  return response.json();\n}\n\n// Competitor Search mit Serper API (automatische Suche)\nexport interface CompetitorPrice {\n  source: string;\n  title: string;\n  price: number;\n  url: string;\n  rating?: number;\n  reviews?: number;\n  scraped_at: string;\n}\n\nexport interface CompetitorSearchResponse {\n  product_id: number;\n  product_title: string;\n  competitors: CompetitorPrice[];\n  summary: {\n    found: number;\n    avg_price: number;\n    min_price: number;\n    max_price: number;\n    your_position: 'cheapest' | 'below_average' | 'average' | 'above_average' | 'most_expensive' | 'unknown';\n  };\n  your_price: number;\n}\n\nexport async function searchCompetitors(\n  productId: number | string,\n  options?: {\n    maxResults?: number;\n    forceRefresh?: boolean;\n  }\n): Promise<CompetitorSearchResponse> {\n  const params = new URLSearchParams();\n  if (options?.maxResults) params.set('max_results', String(options.maxResults));\n  if (options?.forceRefresh) params.set('force_refresh', 'true');\n  \n  const response = await fetch(\n    `${API_URL}/competitors/products/${productId}/competitor-search?${params}`,\n    { \n      method: 'POST',\n      headers: getHeaders(),\n      credentials: 'include'\n    }\n  );\n  \n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Competitor search failed');\n  }\n  return response.json();\n}\n\n// ==========================================\n// MARGIN CALCULATOR API\n// ==========================================\n\nexport interface ProductCostData {\n  purchase_cost: number;\n  shipping_cost: number;\n  packaging_cost: number;\n  payment_provider: string;\n  country_code: string;\n  category?: string;\n}\n\nexport interface MarginCalculationResult {\n  has_cost_data: boolean;\n  selling_price: number;\n  net_revenue: number;\n  costs: {\n    purchase: number;\n    shipping: number;\n    packaging: number;\n    payment_fee: number;\n    total_variable: number;\n  };\n  margin: {\n    euro: number;\n    percent: number;\n  };\n  break_even_price: number;\n  recommended_min_price: number;\n  is_above_break_even: boolean;\n  is_above_min_margin: boolean;\n}\n\nexport interface MarginValidationResult {\n  is_safe: boolean;\n  margin: number | null;\n  warning: string | null;\n  message: string;\n  details?: MarginCalculationResult;\n}\n\nexport interface MarginHealthData {\n  healthy: number;\n  moderate: number;\n  low: number;\n  negative: number;\n  no_costs: number;\n  total_products_with_costs: number;\n  critical_products?: Array<{\n    product_id: string;\n    title: string;\n    current_price: number;\n    margin_percent: number;\n    health_status: string;\n  }>;\n}\n\n// Save product costs\nexport async function saveProductCosts(productId: string, costData: ProductCostData) {\n  const response = await fetch(`${API_URL}/margin/costs`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify({\n      product_id: productId,\n      ...costData\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Speichern der Kosten');\n  }\n  return response.json();\n}\n\n// Get product costs\nexport async function getProductCosts(productId: string): Promise<ProductCostData | null> {\n  const response = await fetch(`${API_URL}/margin/costs/${productId}`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (response.status === 404) {\n    return null;\n  }\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Kosten');\n  }\n  return response.json();\n}\n\n// Update product costs\nexport async function updateProductCosts(productId: string, costData: Partial<ProductCostData>) {\n  const response = await fetch(`${API_URL}/margin/costs/${productId}`, {\n    method: 'PUT',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify(costData)\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Aktualisieren der Kosten');\n  }\n  return response.json();\n}\n\n// Calculate margin\nexport async function calculateMargin(productId: string, sellingPrice: number): Promise<MarginCalculationResult> {\n  const response = await fetch(`${API_URL}/margin/calculate/${productId}`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify({\n      selling_price: sellingPrice,\n      save_to_history: true,\n      triggered_by: 'manual'\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Berechnen der Marge');\n  }\n  return response.json();\n}\n\n// Validate price recommendation\nexport async function validatePriceRecommendation(productId: string, recommendedPrice: number): Promise<MarginValidationResult> {\n  const response = await fetch(`${API_URL}/margin/validate`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include',\n    body: JSON.stringify({\n      product_id: productId,\n      recommended_price: recommendedPrice\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler bei der Preisvalidierung');\n  }\n  return response.json();\n}\n\n// Get margin health overview\nexport async function getMarginHealthOverview(): Promise<MarginHealthData> {\n  const response = await fetch(`${API_URL}/margin/dashboard/health`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Margin-√úbersicht');\n  }\n  return response.json();\n}\n\n// Get category defaults\nexport async function getCategoryDefaults(category: string) {\n  const response = await fetch(`${API_URL}/margin/category-defaults/${category}`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Laden der Category-Defaults');\n  }\n  return response.json();\n}\n\n// Estimate costs from price\nexport async function estimateCostsFromPrice(sellingPrice: number, category: string, countryCode: string = 'DE') {\n  const response = await fetch(`${API_URL}/margin/estimate-costs?selling_price=${sellingPrice}&category=${category}&country_code=${countryCode}`, {\n    method: 'POST',\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Fehler beim Sch√§tzen der Kosten');\n  }\n  return response.json();\n}\n\n// Check if product has cost data\nexport async function hasCostData(productId: string): Promise<boolean> {\n  const response = await fetch(`${API_URL}/margin/has-costs/${productId}`, {\n    headers: getHeaders(),\n    credentials: 'include'\n  });\n  if (!response.ok) {\n    return false;\n  }\n  const data = await response.json();\n  return data.has_cost_data || false;\n}\n\n","import { defineRouting } from 'next-intl/routing';\n\nexport const routing = defineRouting({\n  locales: ['de', 'en'],\n  defaultLocale: 'de',\n  localePrefix: 'as-needed' // Deutsch ohne /de/ Prefix, nur /en/ in URL\n});\n\n\n\n\n","import { createNavigation } from 'next-intl/navigation';\nimport { routing } from './i18n/routing';\n\nexport const { Link, redirect, usePathname, useRouter } =\n  createNavigation(routing);\n\n"],"names":["ShopSwitcher","param","className","shops","currentShop","isDemoMode","loading","error","switchToShop","refresh","useShop","shopDomain","setShopDomain","useState","handleSwitch","shop","useDemo","console","log","id","concat","err","handleConnectShopify","raw","trim","alert","includes","url","encodeURIComponent","API_URL","window","open","handleLiveMode","realLiveShops","filter","s","type","map","name","length","demoShop","handleDemoMode","find","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","jsx","p","button","onClick","liveShops","demoShops","warn","demoInLiveShops","shopsCount","demoShopsCount","liveShopsCount","style","borderTop","border","color","disabled","backgroundColor","borderColor","span","product_count","is_active","Store","shop_url","Check","h3","input","placeholder","value","onChange","e","target","onKeyDown","key","a","href","rel","setCurrentShop","setIsDemoMode","setShops","setLoading","setError","loadShops","preserveDemoMode","data","getAvailableShops","shopsArray","uniqueShops","reduce","acc","some","push","is_demo_mode","activeShopId","active_shop_id","isDemo","activeShop","message","shopId","result","switchShop","newShop","active_shop","localStorage","setItem","toString","dispatchEvent","CustomEvent","detail","mode","refreshShopsOnly","useEffect","storedShopId","getItem","storedMode","shopIdNum","parseInt","isNaN","catch","handleShopSwitch","event","switchedShop","then","undefined","addEventListener","removeEventListener","process","getDashboardStats","response","fetch","headers","getHeaders","ok","json","sessionId","Math","Date","now","random","substr","fetchProducts","syncProducts","method","generateRecommendation","productId","errorData","getCurrentShop","body","JSON","stringify","shop_id","use_demo","searchCompetitors","options","params","URLSearchParams","maxResults","set","String","forceRefresh","credentials","saveProductCosts","costData","product_id","getProductCosts","status","updateProductCosts","calculateMargin","sellingPrice","selling_price","save_to_history","triggered_by","getCategoryDefaults","category","estimateCostsFromPrice","countryCode","routing","defineRouting","locales","defaultLocale","localePrefix","Link","redirect","usePathname","useRouter","createNavigation"],"sourceRoot":""}