(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{7903:function(e,s,t){Promise.resolve().then(t.bind(t,5346))},5346:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var l=t(7437),r=t(2265),a=t(3293),n=t(5119),o=t(4322),i=t(8759),d=t(268),c=t(3523),h=t(4280),x=t(3067),m=t(2851),u=t(2442),g=t(8291),b=t(826),p=t(5996),v=t(7307),f=t(5967),j=t(4033);function N(){let e=(0,j.usePathname)(),[s,t]=(0,r.useState)([]),[N,w]=(0,r.useState)(!1),{currentShop:y,isDemoMode:k,refresh:P}=(0,v.L)();(0,r.useEffect)(()=>{if(!y){console.log("[ProductsPage] No current shop, skipping load");return}console.log("[ProductsPage] Shop changed, reloading products:",y.name,"isDemoMode:",k),E()},[null==y?void 0:y.id,k]),(0,r.useEffect)(()=>{let e=e=>{console.log("[ProductsPage] Shop switched event received:",e.detail),setTimeout(()=>{E()},300)};return window.addEventListener("shop-switched",e),()=>window.removeEventListener("shop-switched",e)},[]);let E=async()=>{w(!0);try{console.log("[ProductsPage] Loading products, currentShop:",null==y?void 0:y.name,"isDemoMode:",k);let e=await (0,b.t2)();console.log("[ProductsPage] Products loaded:",e.length,"products"),t(e||[])}catch(e){console.error("[ProductsPage] Fehler beim Laden der Produkte:",e),t([])}finally{w(!1)}},S=async()=>{if(k){alert("Demo-Shop: Produkte k\xf6nnen nicht synchronisiert werden. Nutze einen echten Shopify-Shop.");return}if(!y||"demo"===y.type){alert("Bitte w\xe4hle einen echten Shopify-Shop aus!");return}w(!0);try{await (0,b.gU)(y.id),await E()}catch(e){console.error("Fehler beim Synchronisieren:",e),alert("Fehler beim Synchronisieren. Pr\xfcfe die Konsole f\xfcr Details.")}finally{w(!1)}},Z=s.filter(e=>e.has_recommendation||e.recommendation_count>0).length;return(0,l.jsxs)("div",{className:"min-h-screen flex",style:{backgroundColor:"#0f172a"},children:[(0,l.jsx)("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),(0,l.jsxs)("aside",{className:"w-80 border-r p-6 overflow-y-auto shadow-sm",style:{background:"linear-gradient(to bottom, #1e293b, #0f172a, #1e293b)",borderColor:"#334155"},children:[(0,l.jsxs)("div",{className:"px-4 pt-6 pb-4 border-b border-gray-800/30",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/25 transition-all duration-300 group-hover:shadow-xl group-hover:shadow-blue-500/40 group-hover:scale-105",children:(0,l.jsx)("span",{className:"text-xl",children:"\uD83D\uDCA1"})}),(0,l.jsx)("div",{className:"absolute inset-0 bg-blue-500/10 blur-xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-white tracking-tight leading-none",children:"PriceIQ"}),(0,l.jsx)("p",{className:"text-[10px] font-semibold text-blue-400 uppercase tracking-widest mt-0.5",children:"Pricing Intelligence"})]})]}),(0,l.jsx)("div",{className:"mb-5",children:(0,l.jsx)(p.D,{})})]}),(0,l.jsxs)("nav",{className:"space-y-1 px-2",children:[(0,l.jsx)("div",{className:"px-3 mb-2",children:(0,l.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Navigation"})}),(0,l.jsxs)(f.rU,{href:"/",className:"\n              group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200\n              ".concat("/"===e||"/de"===e||"/en"===e?"bg-blue-500/10 text-blue-400 shadow-sm":"text-gray-400 hover:text-gray-200 hover:bg-slate-800/50","\n            "),children:[(0,l.jsx)("div",{className:"\n              p-1.5 rounded-md transition-colors\n              ".concat("/"===e||"/de"===e||"/en"===e?"bg-blue-500/20":"bg-slate-800/50 group-hover:bg-slate-800","\n            "),children:(0,l.jsx)(n.Z,{className:"w-4 h-4"})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Dashboard"}),("/"===e||"/de"===e||"/en"===e)&&(0,l.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-400"})]}),(0,l.jsxs)(f.rU,{href:"/products",className:"\n              group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200\n              ".concat((null==e?void 0:e.includes("/products"))?"bg-blue-500/10 text-blue-400 shadow-sm":"text-gray-400 hover:text-gray-200 hover:bg-slate-800/50","\n            "),children:[(0,l.jsx)("div",{className:"\n              p-1.5 rounded-md transition-colors\n              ".concat((null==e?void 0:e.includes("/products"))?"bg-blue-500/20":"bg-slate-800/50 group-hover:bg-slate-800","\n            "),children:(0,l.jsx)(o.Z,{className:"w-4 h-4"})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Produkte"}),(null==e?void 0:e.includes("/products"))&&(0,l.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-400"})]}),(0,l.jsxs)(f.rU,{href:"/recommendations",className:"\n              group flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200\n              ".concat((null==e?void 0:e.includes("/recommendations"))?"bg-blue-500/10 text-blue-400 shadow-sm":"text-gray-400 hover:text-gray-200 hover:bg-slate-800/50","\n            "),children:[(0,l.jsx)("div",{className:"\n              p-1.5 rounded-md transition-colors\n              ".concat((null==e?void 0:e.includes("/recommendations"))?"bg-blue-500/20":"bg-slate-800/50 group-hover:bg-slate-800","\n            "),children:(0,l.jsx)(i.Z,{className:"w-4 h-4"})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Empfehlungen"}),(null==e?void 0:e.includes("/recommendations"))&&(0,l.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-400"})]})]})]}),(0,l.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-8 py-8",children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"mb-10",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg shadow-blue-500/25",children:(0,l.jsx)(o.Z,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-white tracking-tight",children:"Produkte"}),(0,l.jsxs)("p",{className:"text-sm text-slate-400 mt-1",children:[s.length," Produkte synchronisiert",Z>0&&(0,l.jsxs)("span",{className:"ml-2 text-purple-400",children:["• ",Z," mit AI-Empfehlungen"]})]})]})]})}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-8 p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[y&&(0,l.jsxs)("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 border border-slate-700 hover:border-slate-600 text-sm font-medium text-slate-200 hover:text-white transition-colors",children:[(0,l.jsx)(d.Z,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:[y.name," ",k&&"(Demo)"]}),(0,l.jsx)(c.Z,{className:"w-4 h-4"})]}),k&&(0,l.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-400 animate-pulse"}),(0,l.jsx)("span",{className:"text-xs font-semibold text-orange-400",children:"Demo-Mode: Keine Synchronisation"})]}),!k&&y&&"shopify"===y.type&&(0,l.jsxs)("button",{onClick:S,disabled:N,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-500 hover:to-indigo-600 text-white font-semibold text-sm shadow-lg shadow-indigo-500/25 hover:shadow-xl hover:shadow-indigo-500/40 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4 ".concat(N?"animate-spin":"")}),N?"Synchronisiere...":"Produkte synchronisieren"]}),(0,l.jsx)("div",{className:"flex-1"}),(0,l.jsxs)(f.rU,{href:"/",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-semibold text-sm shadow-md hover:shadow-lg transition-all hover:scale-105",children:[(0,l.jsx)(x.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Zur\xfcck"})]})]})]}),N&&0===s.length?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8",children:[...Array(8)].map((e,s)=>(0,l.jsxs)("div",{className:"rounded-2xl bg-slate-800/50 border border-slate-700/50 p-6 animate-pulse",children:[(0,l.jsx)("div",{className:"aspect-[4/3] rounded-xl bg-slate-700/50 mb-5"}),(0,l.jsx)("div",{className:"h-6 bg-slate-700/50 rounded mb-4"}),(0,l.jsx)("div",{className:"h-8 bg-slate-700/50 rounded mb-3"}),(0,l.jsx)("div",{className:"h-10 bg-slate-700/50 rounded"})]},s))}):0===s.length?(0,l.jsxs)(a.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-20 px-4",children:[(0,l.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-slate-800/50 border border-slate-700/50 flex items-center justify-center mb-6",children:(0,l.jsx)(o.Z,{className:"w-10 h-10 text-slate-500"})}),(0,l.jsx)("h3",{className:"text-xl font-bold text-slate-200 mb-2",children:"Keine Produkte gefunden"}),k?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-sm text-slate-400 text-center max-w-md mb-6",children:"Demo-Shop: Produkte werden automatisch geladen. Falls keine angezeigt werden, pr\xfcfe die Browser-Console."}),(0,l.jsxs)("button",{onClick:()=>E(),className:"px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-500 text-white font-semibold shadow-lg transition-all",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4 inline mr-2"}),"Produkte neu laden"]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-sm text-slate-400 text-center max-w-md mb-6",children:"Es wurden noch keine Produkte synchronisiert. Verbinde deinen Shop, um Produkte zu importieren."}),(0,l.jsxs)("button",{onClick:S,className:"px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-500 text-white font-semibold shadow-lg transition-all",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4 inline mr-2"}),"Shop verbinden"]})]})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8",children:s.map((e,s)=>{var t;let r=e.has_recommendation||e.recommendation_count>0,n=e.inventory||e.inventory_quantity||0,i=(null===(t=e.price)||void 0===t?void 0:t.toFixed(2))||"0.00",d=n<10?{bg:"bg-red-500/10",border:"border-red-500/20",text:"text-red-400",label:"Kritisch"}:n<30?{bg:"bg-orange-500/10",border:"border-orange-500/20",text:"text-orange-400",label:"Niedrig"}:n<100?{bg:"bg-green-500/10",border:"border-green-500/20",text:"text-green-400",label:"Gut"}:{bg:"bg-slate-500/10",border:"border-slate-500/20",text:"text-slate-400",label:"Hoch"};return(0,l.jsx)(a.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*s},className:"group relative",children:(0,l.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-700/50 backdrop-blur-sm p-6 transition-all duration-300 hover:border-slate-600/50 hover:shadow-2xl hover:shadow-blue-500/10 hover:-translate-y-1",children:[(0,l.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-blue-500/5 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r&&(0,l.jsxs)("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-purple-500/10 border border-purple-500/20 backdrop-blur-sm",children:[(0,l.jsx)(m.Z,{className:"w-3.5 h-3.5 text-purple-400"}),(0,l.jsx)("span",{className:"text-xs font-semibold text-purple-400",children:"AI"})]}),(0,l.jsxs)("div",{className:"relative mb-5 aspect-[4/3] rounded-xl bg-gradient-to-br from-slate-700/50 to-slate-800/50 border border-slate-600/30 flex items-center justify-center overflow-hidden group-hover:border-slate-500/50 transition-colors",children:[(0,l.jsx)("div",{className:"relative z-10",children:(0,l.jsx)(o.Z,{className:"w-16 h-16 text-slate-500 group-hover:text-slate-400 transition-colors",strokeWidth:1.5})}),(0,l.jsx)("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle, #cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"}})]}),(0,l.jsxs)("div",{className:"relative z-10 space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-slate-100 line-clamp-2 group-hover:text-white transition-colors min-h-[3.5rem]",children:e.title}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Aktueller Preis"}),(0,l.jsx)("div",{className:"flex items-baseline gap-3",children:(0,l.jsxs)("span",{className:"text-3xl font-bold text-white",children:["€",i]})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg ".concat(d.bg," ").concat(d.border," group-hover:opacity-80 transition-opacity"),children:[(0,l.jsx)(u.Z,{className:"w-3.5 h-3.5 ".concat(d.text)}),(0,l.jsxs)("span",{className:"text-xs font-semibold ".concat(d.text),children:[d.label," (",n,")"]})]}),r&&(0,l.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[(0,l.jsx)(m.Z,{className:"w-3.5 h-3.5 text-blue-400"}),(0,l.jsx)("span",{className:"text-xs font-semibold text-blue-400",children:"Empfohlen"})]})]}),(0,l.jsxs)(f.rU,{href:"/recommendations?product_id=".concat(e.id),className:"group/btn relative w-full px-5 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-semibold text-sm shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/40 transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:[(0,l.jsx)("span",{children:"Preisempfehlungen anzeigen"}),(0,l.jsx)(g.Z,{className:"w-4 h-4 group-hover/btn:translate-x-0.5 transition-transform"})]})]})]})},e.id)})})]})})})]})}}},function(e){e.O(0,[292,869,625,75,971,119,171,744],function(){return e(e.s=7903)}),_N_E=e.O()}]);