(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1089:function(e,r,t){Promise.resolve().then(t.bind(t,632))},632:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var s=t(7437),n=t(2265),o=t(4033);function a(){let e=(0,o.useSearchParams)(),r=(0,o.useRouter)(),[t,a]=(0,n.useState)("loading");return(0,n.useEffect)(()=>{try{let t=e.get("shop_id"),s=e.get("installed"),n=e.get("mode");console.log("[Dashboard] Received params:",{shopId:t,installed:s,mode:n}),t?(localStorage.setItem("shop_id",t),localStorage.setItem("current_shop_id",t),localStorage.setItem("shop_mode",n||"live"),console.log("[Dashboard] Saved to localStorage:",{shop_id:t,current_shop_id:t,mode:n||"live"}),window.dispatchEvent(new CustomEvent("shop-switched",{detail:{shopId:parseInt(t),installed:"true"===s,mode:n||"live"}})),a("redirecting"),setTimeout(()=>{r.replace("/")},300)):(console.log("[Dashboard] No shop_id found, redirecting to root"),r.replace("/"))}catch(e){console.error("[Dashboard] Error processing redirect:",e),a("error"),setTimeout(()=>{r.replace("/")},1e3)}},[e,r]),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:["loading"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Lade Shop..."})]}),"redirecting"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Shop geladen, weiterleiten..."})]}),"error"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-red-600 text-5xl mb-4",children:"⚠️"}),(0,s.jsx)("p",{className:"text-gray-600 mb-2",children:"Fehler beim Laden des Shops"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Weiterleitung..."})]})]})})}function i(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Lade..."})]})}),children:(0,s.jsx)(a,{})})}},622:function(e,r,t){"use strict";var s=t(2265),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var s,o={},c=null,d=null;for(s in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)a.call(r,s)&&!l.hasOwnProperty(s)&&(o[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===o[s]&&(o[s]=r[s]);return{$$typeof:n,type:e,key:c,ref:d,props:o,_owner:i.current}}r.Fragment=o,r.jsx=c,r.jsxs=c},7437:function(e,r,t){"use strict";e.exports=t(622)},4033:function(e,r,t){e.exports=t(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=1089)}),_N_E=e.O()}]);