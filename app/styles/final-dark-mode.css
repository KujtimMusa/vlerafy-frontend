/* ============================================
   FINAL DARK MODE - GRAY-BLUE CLEAN
   Complete reset and proper implementation
   ============================================ */

/* === FORCE DARK BACKGROUNDS === */

html {
  background-color: #0f172a !important;
}

body {
  background-color: #0f172a !important;
  color: #cbd5e1 !important;
  margin: 0 !important;
  padding: 0 !important;
}

#root,
#app,
[id*="root"],
[id*="app"] {
  background-color: #0f172a !important;
  min-height: 100vh !important;
}

/* === RESET RED/COLORED BACKGROUNDS === */

/* REMOVE all red backgrounds */
* {
  background-color: transparent !important;
}

/* Then ADD backgrounds only where needed */

/* Main page background */
body,
html,
#root,
main {
  background-color: #0f172a !important;
}

/* Sidebar */
aside,
nav,
[class*="sidebar"] {
  background-color: #1e293b !important;
  border-right: 1px solid #334155 !important;
}

/* Cards - Dark gray */
div[class*="card"],
div[class*="Card"],
div[class*="box"],
div[class*="Box"],
section[class*="section"] {
  background-color: #1e293b !important;
  border: 1px solid #475569 !important;
  border-radius: 12px !important;
  padding: 20px !important;
  margin-bottom: 16px !important;
}

/* === ALERT BANNER - DARK RED (not bright red) === */

/* Only the alert banner should have red */
[class*="alert"],
[class*="Alert"],
[class*="verlierst"],
div:has(> *:contains("Du verlierst")) {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.1) 100%) !important;
  border: 2px solid rgba(239, 68, 68, 0.4) !important;
  border-radius: 12px !important;
}

/* === TEXT COLORS === */

/* Headings - White */
h1, h2, h3, h4, h5, h6 {
  color: #f1f5f9 !important;
  background: transparent !important;
}

/* Body text - Light gray */
p, span, div {
  color: #cbd5e1 !important;
}

/* Muted text */
small,
[class*="subtitle"],
[class*="meta"] {
  color: #94a3b8 !important;
}

/* === PREVENT TEXT OVERFLOW === */

* {
  overflow: visible !important;
  text-overflow: clip !important;
}

/* But cards should contain content */
div[class*="card"],
div[class*="box"] {
  overflow: hidden !important;
  word-wrap: break-word !important;
}

/* === BUTTONS === */

button {
  background-color: #334155 !important;
  color: #cbd5e1 !important;
  border: 2px solid #475569 !important;
  border-radius: 10px !important;
  padding: 10px 20px !important;
}

button[class*="primary"],
button[class*="Primary"] {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
  color: white !important;
  border: none !important;
}

/* === ICONS === */

div[class*="icon"],
span[class*="icon"] {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
  border-radius: 12px !important;
  padding: 12px !important;
}

/* === STATS/METRICS BOXES === */

[class*="stat"],
[class*="metric"],
[class*="schnell"] > div {
  background-color: #1e293b !important;
  border: 1px solid #475569 !important;
  border-radius: 12px !important;
  padding: 24px !important;
}

/* === BADGES === */

[class*="badge"] {
  background-color: rgba(59, 130, 246, 0.15) !important;
  border: 1px solid rgba(59, 130, 246, 0.4) !important;
  color: #60a5fa !important;
  padding: 6px 12px !important;
  border-radius: 8px !important;
}

/* === PROGRESS BARS === */

[class*="progress"] {
  background-color: #334155 !important;
  border-radius: 10px !important;
}

[class*="progress"] > div {
  background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%) !important;
  border-radius: 10px !important;
}

/* === REMOVE ALL RED BORDERS === */

* {
  border-color: #475569 !important;
}

/* Only alert should have red border */
[class*="alert"] {
  border-color: rgba(239, 68, 68, 0.4) !important;
}

/* === FIX TEXT CLIPPING === */

/* Ensure text doesn't overflow */
p, span, div, h1, h2, h3, h4, h5, h6 {
  max-width: 100% !important;
  overflow-wrap: break-word !important;
  word-break: break-word !important;
}

/* === SPECIFIC FIXES === */

/* Sidebar sections - Overridden by sidebar design above */

/* Dashboard sections */
main > div,
main > section {
  background-color: transparent !important;
}

/* Collapsible cards */
[class*="collapsible"] {
  background-color: #1e293b !important;
  border: 1px solid #475569 !important;
  border-radius: 12px !important;
}

/* === RESET EVERYTHING FIRST === */

/* Remove all inline styles */
[style] {
  background-color: initial !important;
  border-color: initial !important;
}

/* ============================================
   STATE-OF-THE-ART SIDEBAR DESIGN
   Inspired by Linear, Notion, Vercel
   ============================================ */

/* === SIDEBAR CONTAINER === */
/* Nur aside Elemente, die als Sidebar fungieren (nicht nav im Layout!) */

aside:not([role="navigation"]):not([class*="header"]),
[class*="sidebar"]:not([role="navigation"]),
[class*="Sidebar"]:not([role="navigation"]) {
  background-color: #0f172a !important;
  width: 280px !important;
  height: 100vh !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  border-right: 1px solid #1e293b !important;
  padding: 0 !important;
  margin: 0 !important;
  overflow-y: auto !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 0 !important;
  z-index: 1000 !important;
}

/* Layout nav (Header) NICHT als Sidebar behandeln */
body > nav,
[class*="layout"] > nav,
header > nav {
  position: relative !important;
  width: auto !important;
  height: auto !important;
  background-color: #1e293b !important;
  border-right: none !important;
}

/* === SCROLLBAR === */

aside:not([role="navigation"])::-webkit-scrollbar,
[class*="sidebar"]::-webkit-scrollbar {
  width: 6px !important;
}

aside:not([role="navigation"])::-webkit-scrollbar-track,
[class*="sidebar"]::-webkit-scrollbar-track {
  background: transparent !important;
}

aside:not([role="navigation"])::-webkit-scrollbar-thumb,
[class*="sidebar"]::-webkit-scrollbar-thumb {
  background: #334155 !important;
  border-radius: 3px !important;
}

aside:not([role="navigation"])::-webkit-scrollbar-thumb:hover,
[class*="sidebar"]::-webkit-scrollbar-thumb:hover {
  background: #475569 !important;
}

/* === MAIN CONTENT OFFSET === */
/* Verschiebe Hauptinhalt nach rechts, wenn Sidebar fixed ist */

/* WICHTIG: Sidebar ist bereits position: fixed, daher muss der Container padding-left haben */
/* Container mit flex und Sidebar: Verschiebe den gesamten Container */
div.min-h-screen.flex,
div[class*="recommendations-page"],
.min-h-screen.flex,
[class*="recommendations-page"] {
  padding-left: 280px !important;
  width: 100vw !important;
  max-width: 100vw !important;
  box-sizing: border-box !important;
  margin-left: 0 !important;
}

/* Main Elemente innerhalb von flex-Containern - keine zusätzliche Verschiebung */
div.min-h-screen.flex > main,
div[class*="recommendations-page"] > main,
.min-h-screen.flex > main,
[class*="recommendations-page"] > main,
.flex > main {
  margin-left: 0 !important;
  padding-left: 0 !important;
  width: 100% !important;
  max-width: 100% !important;
  flex: 1 !important;
  box-sizing: border-box !important;
}

/* Sidebar innerhalb von flex-Containern: Aus dem Flow nehmen - bereits fixed durch oben */
div.min-h-screen.flex > aside,
div[class*="recommendations-page"] > aside,
.min-h-screen.flex > aside,
[class*="recommendations-page"] > aside {
  position: fixed !important;
  left: 0 !important;
  top: 0 !important;
  margin-left: 0 !important;
  padding-left: 0 !important;
  z-index: 1000 !important;
}

/* Direkte main Elemente unter body (Layout) - nur wenn keine Sidebar im Container */
body > main:not(.min-h-screen.flex > main):not(div.min-h-screen.flex > main) {
  margin-left: 280px !important;
  width: calc(100% - 280px) !important;
  max-width: calc(100% - 280px) !important;
  box-sizing: border-box !important;
}

/* Responsive: Auf mobilen Geräten kleinere Sidebar */
@media (max-width: 768px) {
  aside:not([role="navigation"]),
  [class*="sidebar"]:not([role="navigation"]),
  [class*="Sidebar"]:not([role="navigation"]) {
    width: 240px !important;
  }
  
  div.min-h-screen.flex,
  div[class*="recommendations-page"],
  .min-h-screen.flex,
  [class*="recommendations-page"] {
    padding-left: 240px !important;
  }
  
  body > main:not(.min-h-screen.flex > main):not(div.min-h-screen.flex > main) {
    margin-left: 240px !important;
    width: calc(100% - 240px) !important;
    max-width: calc(100% - 240px) !important;
  }
}

/* === LOGO SECTION === */

aside > div:first-child,
nav > div:first-child,
[class*="sidebar"] > div:first-child,
[class*="logo"] {
  padding: 24px 20px !important;
  border-bottom: 1px solid #1e293b !important;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  margin: 0 !important;
}

/* Logo container */
[class*="logo"],
aside > div:first-child > div {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Logo icon */
[class*="logo"] img,
[class*="logo"] svg {
  width: 32px !important;
  height: 32px !important;
  border-radius: 8px !important;
}

/* Logo text */
[class*="logo"] span,
[class*="logo"] h1,
[class*="logo"] h2 {
  font-size: 18px !important;
  font-weight: 700 !important;
  color: #f1f5f9 !important;
  background: transparent !important;
  border: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* === AKTIVER SHOP SECTION === */

[class*="aktiver-shop"],
[class*="active-shop"],
[class*="shop-selector"] {
  padding: 16px 20px !important;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  margin: 0 !important;
  border-bottom: 1px solid #1e293b !important;
}

/* Shop selector heading */
[class*="aktiver-shop"] > span:first-child,
[class*="active-shop"] > span:first-child {
  display: block !important;
  font-size: 11px !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  color: #64748b !important;
  margin-bottom: 12px !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
}

/* === LIVE/DEMO TABS === */

[class*="tabs"],
div:has(> button:contains("Live")),
div:has(> button:contains("Demo")) {
  display: flex !important;
  gap: 8px !important;
  margin-bottom: 12px !important;
  background: #1e293b !important;
  padding: 4px !important;
  border-radius: 8px !important;
  border: none !important;
}

/* Tab buttons */
[class*="tabs"] > button,
[class*="tab-button"] {
  flex: 1 !important;
  padding: 8px 12px !important;
  background: transparent !important;
  color: #94a3b8 !important;
  border: none !important;
  border-radius: 6px !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

/* Active tab */
[class*="tabs"] > button[class*="active"],
[class*="tabs"] > button[aria-selected="true"] {
  background: #334155 !important;
  color: #f1f5f9 !important;
}

/* Tab hover */
[class*="tabs"] > button:hover {
  background: rgba(51, 65, 85, 0.5) !important;
  color: #cbd5e1 !important;
}

/* === DEMO SHOP CARD === */

[class*="demo-shop"],
[class*="shop-card"],
[class*="aktiver-shop"] > div:last-child {
  background: #1e293b !important;
  border: 1px solid #334155 !important;
  border-radius: 10px !important;
  padding: 16px !important;
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  margin: 0 !important;
}

[class*="demo-shop"]:hover,
[class*="shop-card"]:hover {
  background: #334155 !important;
  border-color: #475569 !important;
  transform: scale(1.02) !important;
}

/* Shop icon */
[class*="demo-shop"] > div:first-child,
[class*="shop-icon"] {
  width: 48px !important;
  height: 48px !important;
  border-radius: 10px !important;
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  flex-shrink: 0 !important;
  border: none !important;
  padding: 0 !important;
}

/* Shop info - NO vertical text! */
[class*="demo-shop"] > div:last-child,
[class*="shop-info"] {
  flex: 1 !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 4px !important;
  align-items: flex-start !important;
  /* FIX: NO ROTATION! */
  transform: none !important;
  writing-mode: horizontal-tb !important;
}

/* Shop name */
[class*="shop-info"] > span:first-child,
[class*="shop-name"] {
  font-size: 14px !important;
  font-weight: 600 !important;
  color: #f1f5f9 !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  /* FIX: NO ROTATION! */
  transform: none !important;
  writing-mode: horizontal-tb !important;
  display: block !important;
}

/* Shop subtitle */
[class*="shop-info"] > span:last-child,
[class*="shop-subtitle"] {
  font-size: 12px !important;
  color: #64748b !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  /* FIX: NO ROTATION! */
  transform: none !important;
  writing-mode: horizontal-tb !important;
  display: block !important;
}

/* Active badge */
[class*="aktiv"],
[class*="active-badge"] {
  background: rgba(16, 185, 129, 0.15) !important;
  color: #10b981 !important;
  border: 1px solid rgba(16, 185, 129, 0.3) !important;
  padding: 2px 8px !important;
  border-radius: 6px !important;
  font-size: 11px !important;
  font-weight: 600 !important;
}

/* === NAVIGATION SECTION === */

[class*="navigation"],
nav > div:not(:first-child),
aside > div:has(> a[href]) {
  padding: 8px 12px !important;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  margin: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 2px !important;
}

/* === NAVIGATION ITEMS === */

/* Remove ALL nested boxes */
aside a,
aside button[class*="nav"],
nav a,
nav button[class*="nav"],
[class*="nav-item"],
[class*="navigation-item"] {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
  padding: 10px 12px !important;
  background: transparent !important;
  border: none !important;
  border-left: 2px solid transparent !important;
  border-radius: 8px !important;
  color: #94a3b8 !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  text-decoration: none !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  margin: 0 !important;
  width: 100% !important;
}

/* Nav item hover */
aside a:hover,
aside button[class*="nav"]:hover,
nav a:hover,
nav button[class*="nav"]:hover {
  background: #1e293b !important;
  color: #cbd5e1 !important;
  border-left-color: #3b82f6 !important;
}

/* Nav item active */
aside a[class*="active"],
aside a[aria-current="page"],
nav a[class*="active"],
nav a[aria-current="page"] {
  background: rgba(59, 130, 246, 0.1) !important;
  color: #60a5fa !important;
  border-left-color: #3b82f6 !important;
}

/* Nav icons */
aside a svg,
aside button svg,
nav a svg,
nav button svg {
  width: 20px !important;
  height: 20px !important;
  flex-shrink: 0 !important;
}

/* === REMOVE ALL NESTED BORDERS === */

/* NO boxes within sidebar sections */
aside > div > div,
aside > div > div > div,
nav > div > div,
nav > div > div > div,
[class*="sidebar"] > div > div {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* === FIX TEXT ROTATION === */

/* Force horizontal text everywhere */
aside *,
nav *,
[class*="sidebar"] * {
  writing-mode: horizontal-tb !important;
  transform: none !important;
  text-orientation: mixed !important;
}

/* === SECTION HEADINGS === */

aside h3,
aside h4,
nav h3,
nav h4,
[class*="section-heading"] {
  font-size: 11px !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  color: #64748b !important;
  padding: 16px 12px 8px 12px !important;
  background: transparent !important;
  border: none !important;
  margin: 0 !important;
}

/* === BOTTOM SECTION (Settings, etc.) === */

aside > div:last-child,
nav > div:last-child {
  margin-top: auto !important;
  border-top: 1px solid #1e293b !important;
  padding: 16px 12px !important;
  background: transparent !important;
  border-left: none !important;
  border-right: none !important;
  border-bottom: none !important;
}

/* === RESPONSIVE === */

@media (max-width: 768px) {
  aside,
  nav,
  [class*="sidebar"] {
    width: 240px !important;
  }
}

/* === DEMO MODE INDICATOR === */

[class*="demo-modus"],
[class*="demo-mode"] {
  background: rgba(245, 158, 11, 0.1) !important;
  border: 1px solid rgba(245, 158, 11, 0.3) !important;
  border-radius: 10px !important;
  padding: 12px !important;
  margin: 8px 12px !important;
  display: flex !important;
  align-items: flex-start !important;
  gap: 10px !important;
}

[class*="demo-modus"] svg,
[class*="demo-mode"] svg {
  color: #f59e0b !important;
  flex-shrink: 0 !important;
}

[class*="demo-modus"] span,
[class*="demo-mode"] span,
[class*="demo-modus"] p,
[class*="demo-mode"] p {
  font-size: 12px !important;
  color: #cbd5e1 !important;
  line-height: 1.5 !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

